{"version":3,"sources":["uni-app:///main.js","webpack:////Users/a8833/Documents/jxj_miniprograms/pagesMine/mine/facialCapture/facialCapture.vue?cb7a","webpack:////Users/a8833/Documents/jxj_miniprograms/pagesMine/mine/facialCapture/facialCapture.vue?9ae9","webpack:////Users/a8833/Documents/jxj_miniprograms/pagesMine/mine/facialCapture/facialCapture.vue?4774","webpack:////Users/a8833/Documents/jxj_miniprograms/pagesMine/mine/facialCapture/facialCapture.vue?961b","uni-app:///pagesMine/mine/facialCapture/facialCapture.vue","webpack:////Users/a8833/Documents/jxj_miniprograms/pagesMine/mine/facialCapture/facialCapture.vue?df31","webpack:////Users/a8833/Documents/jxj_miniprograms/pagesMine/mine/facialCapture/facialCapture.vue?7235"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","isiOSSystem","selectedStudent","studentList","schoolInfo","tmpSrc","baiduToken","errorTips","facialTips","state","completeStudent","computed","leftButtonTitle","rightButtonTitle","onLoad","uni","title","eventChannel","_this","methods","queryBaiduToken","url","method","success","fail","cameraAuthError","icon","tapLeftButton","tapRightButton","takePhoto","context","quality","handlePhoto","redrawImage","select","fields","node","size","exec","canvas","ctx","image","x","y","width","height","destWidth","destHeight","fileType","readImage","fileManager","encoding","filePath","sendImageDetection","handleFacialInfo","uploadImage","studentId","handleUploadCompleted","getImageSize","resolve","reject"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,sBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsI;AACtI;AACiE;AACL;AACsC;;;AAGlG;AACsN;AACtN,gBAAgB,uNAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,oGAAM;AACR,EAAE,6GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAy2B,CAAgB,y0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACiG73B;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;QACA;UAAA;UACA;QACA;UAAA;UACA;QACA;UAAA;UACA;QACA;UAAA;UACA;QACA;UACA;MAAA;IAEA;IACAC;MACA;QACA;UAAA;UACA;QACA;UAAA;UACA;QACA;UAAA;UACA;QACA;UAAA;UACA;QACA;UAAA;UACA;QACA;UACA;MAAA;IAEA;EACA;EAEAC;IACAC;MACAC;IACA;IACA;IAEA;IACA;IACA;IACAC;MACAC;MACAA;MACAA;MAEA;QAAA;MAAA;MACAA;MACAA;MACA;QACAA;MACA;QACAA;MACA;QACAA;MACA;IACA;IAEA;EACA;EAEAC;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;MACA;MACAL;QACAM;QACAC;QACAtB;QACAuB;UACAL;QACA;QACAM;UACAN;QACA;MACA;IACA;IAEA;IACAO;MACAV;QACAW;QACAV;MACA;IACA;IAEA;IACAW;MACA;QAAA;QACA;MACA;QAAA;QACAZ;MACA;QAAA;QACAA;MACA;QAAA;QACA;MACA;IACA;IAEA;IACAa;MACA;QAAA;QACA;MACA;QAAA;QACA;MACA;QAAA;QACA;MACA;QAAA;QACA;QACA;QACA;MACA;QAAA;QACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MAAA;MACA;MACAC;QACAC;QACAR;UACA;UACA;QACA;QACAC;UACA;UACA;UACA;QACA;MACA;IACA;IAEA;IACAQ;MAAA;MACAjB;MACA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAkB;MAAA;MACAtC,yBACAuC;MAAA,CACAC;QAAAC;QAAAC;MAAA,GACAC;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACAC;QACAA;QACAC;;QAEA;QACA;QACA;QACAC;UACA;UACAD;;UAEA;UACA7C;YACA+C;YACAC;YACAC;YACAC;YACAC;YACAC;YACAR;YACAS;YACAjB;YACAR;cACA;YACA;YACAC;cACA,6BACA;cACA;cACA;cACAT;YACA;UACA;QACA;QACA;QACA0B;MACA;IACA;IAEA;IACAQ;MAAA;MACA;MACAC;QACAC;QACAC;QACA7B;UACA;QACA;QACAC;UACA;UACA;UACA;UACAT;QACA;MACA;IACA;IAEA;IACAsC;MACA;QAAA;MAAA;MACA;QACA;QACA;QACA;QACA;MACA;MACA;MACAtC;QACAM;QACAC;QACAtB;QACAuB;UACA;YACA;YACA;cACAL;cACAA;cACAA;cACAH;YACA;cACAG;YACA;UACA;YACAA;YACAA;YACAA;YACAH;UACA;QACA;QACAS;UACAN;UACAA;UACAA;UACAH;QACA;MACA;IACA;IAEA;IACAuC;MACA;QAAA;QACA;MACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA,kEACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;QAAA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;MACA;;MACA;QACAC;MACA;MACA;QACA;UACA;YACAA;UACA;UACA;YACA;cACAtC;YACA;cACAA;cACAA;cACAA;YACA;UACA;QACA;UACAA;UACAA;UACAA;QACA;MACA;QACAA;QACAA;QACAA;MACA;QACAH;MACA;IACA;IAEA;IACA0C;MAAA;MACA;MACA;MACA;QACA;QACA,uDACAD;QACA;MACA;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAE;MACA;QACA;QACAR;UACAE;UACA7B;YACAoC;UACA;UACAnC;YACAoC;UACA;QACA;MACA;IACA;EAEA;AACA;AAAA,2B;;;;;;;;;;;;;ACjgBA;AAAA;AAAA;AAAA;AAAwnD,CAAgB,w/CAAG,EAAC,C;;;;;;;;;;;ACA5oD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesMine/mine/facialCapture/facialCapture.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesMine/mine/facialCapture/facialCapture.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./facialCapture.vue?vue&type=template&id=207a1be2&scoped=true&\"\nvar renderjs\nimport script from \"./facialCapture.vue?vue&type=script&lang=js&\"\nexport * from \"./facialCapture.vue?vue&type=script&lang=js&\"\nimport style0 from \"./facialCapture.vue?vue&type=style&index=0&id=207a1be2&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"207a1be2\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesMine/mine/facialCapture/facialCapture.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facialCapture.vue?vue&type=template&id=207a1be2&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.state == 0 ? _vm.$t(\"mine.mine.facialCapture.confirmAs\") : null\n  var m1 =\n    _vm.state == 0 ? _vm.$t(\"mine.mine.facialCapture.captureFacial\") : null\n  var m2 = _vm.state == 0 ? _vm.$t(\"mine.mine.facialCapture.tipState\") : null\n  var m3 =\n    _vm.state == 1 ? _vm.$t(\"mine.mine.facialCapture.tipCapturing\") : null\n  var m4 =\n    _vm.state == 2 ? _vm.$t(\"mine.mine.facialCapture.confirmPhoto\") : null\n  var m5 =\n    _vm.state == 4 ? _vm.$t(\"mine.mine.facialCapture.uploadSuccess\") : null\n  var m6 =\n    _vm.state == 5 ? _vm.$t(\"mine.mine.facialCapture.uploadSuccess\") : null\n  var g0 = [2, 4, 5, 6].includes(_vm.state)\n  var g1 = [0, 1, 2, 3, 4].includes(_vm.state)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        m5: m5,\n        m6: m6,\n        g0: g0,\n        g1: g1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facialCapture.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facialCapture.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"top-part\">\r\n\t\t\t<view class=\"portrait-border\"\r\n\t\t\t\t:class=\"{'ios-border': isiOSSystem, 'white-border': state == 2, 'red-border': state == 3}\">\r\n\t\t\t\t<camera id=\"facial-video\" class=\"portrait-camera\" frame-size=\"medium\" device-position=\"back\" flash=\"off\"\r\n\t\t\t\t\t@error=\"cameraAuthError\"></camera>\r\n\t\t\t\t<image :class=\"{'ios-bezel-img': isiOSSystem, 'and-bezel-img': !isiOSSystem}\" :src=\"tmpSrc\"\r\n\t\t\t\t\tmode=\"aspectFill\" v-if=\"state != 1\"></image>\r\n\t\t\t\t<image :class=\"{'ios-bezel-img': isiOSSystem, 'and-bezel-img': !isiOSSystem}\"\r\n\t\t\t\t\tsrc=\"../../static/images/facial_bezel.png\" mode=\"aspectFill\" v-if=\"state == 1\"></image>\r\n\t\t\t\t<view class=\"scan-view\" :class=\"{'ios-scan': isiOSSystem}\" v-if=\"state == 1\"></view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"column-center\" v-if=\"state == 0\">\r\n\t\t\t\t<text class=\"validate-text\">\r\n\t\t\t\t\t{{$t('mine.mine.facialCapture.confirmAs')}}\r\n\t\t\t\t\t<text class=\"blue-color\">{{ selectedStudent.name }}</text>\r\n\t\t\t\t\t{{$t('mine.mine.facialCapture.captureFacial')}}\r\n\t\t\t\t</text>\r\n\t\t\t\t<text class=\"tip-text gray-color\">{{$t('mine.mine.facialCapture.tipState')}}</text>\r\n\t\t\t\t<image class=\"indicator\" src=\"../../static/images/facial_indicator.png\" mode=\"aspectFit\">\r\n\t\t\t\t</image>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"column-center\" v-if=\"state == 1\">\r\n\t\t\t\t<text class=\"validate-text\">{{$t('mine.mine.facialCapture.tipCapturing')}}</text>\r\n\t\t\t\t<image class=\"indicator\" src=\"../../static/images/facial_indicator.png\" mode=\"aspectFit\">\r\n\t\t\t\t</image>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"column-center\" v-if=\"state == 2\">\r\n\t\t\t\t<text class=\"validate-text\">{{$t('mine.mine.facialCapture.confirmPhoto')}}</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"column-center\" v-if=\"state == 3\">\r\n\t\t\t\t<view class=\"row-center\">\r\n\t\t\t\t\t<image class=\"validate-icon\" src=\"../../static/images/warning_line.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text class=\"validate-text red-color\">{{ errorTips || '' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"tip-text\">{{ facialTips || '' }}</text>\r\n\t\t\t\t<image class=\"indicator\" src=\"../../static/images/facial_indicator.png\" mode=\"aspectFit\"></image>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"column-center\" v-if=\"state == 4\">\r\n\t\t\t\t<view class=\"row-center\">\r\n\t\t\t\t\t<image class=\"validate-icon\" src=\"../../static/images/check_circle_line.png\" mode=\"aspectFit\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t\t<text class=\"validate-text blue-color\">{{$t('mine.mine.facialCapture.uploadSuccess')}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"tip-text gray-color\">{{ facialTips || '' }}</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"column-center\" v-if=\"state == 5\">\r\n\t\t\t\t<view class=\"row-center\">\r\n\t\t\t\t\t<image class=\"validate-icon\" src=\"../../static/images/check_circle_line.png\" mode=\"aspectFit\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t\t<text class=\"validate-text blue-color\">{{$t('mine.mine.facialCapture.uploadSuccess')}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"tip-text gray-color\">{{ facialTips || '' }}</text>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"column-center\" v-if=\"state == 6\">\r\n\t\t\t\t<view class=\"row-center\">\r\n\t\t\t\t\t<image v-show=\"selectedStudent.modelStatus != 2\" class=\"validate-icon\"\r\n\t\t\t\t\t\tsrc=\"../../static/images/check_circle_line.png\" mode=\"aspectFit\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t\t<image v-show=\"selectedStudent.modelStatus == 2\" class=\"validate-icon\"\r\n\t\t\t\t\t\tsrc=\"../../static/images/warning_line.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<text v-show=\"selectedStudent.modelStatus != 2 \"\r\n\t\t\t\t\t\tclass=\"validate-text blue-color\">{{ facialTips || '' }}</text>\r\n\t\t\t\t\t<text v-show=\"selectedStudent.modelStatus == 2\"\r\n\t\t\t\t\t\tclass=\"validate-text red-color\">{{ errorTips || '' }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"bottom-part\">\r\n\t\t\t<view v-if=\"[2,4,5,6].includes(state)\" class=\"left-button\" @click=\"tapLeftButton\">\r\n\t\t\t\t{{leftButtonTitle}}\r\n\t\t\t</view>\r\n\t\t\t<view v-if=\"[0,1,2,3,4].includes(state)\" class=\"right-button\" :class=\"{'next': state == 4}\"\r\n\t\t\t\t@click=\"tapRightButton\">\r\n\t\t\t\t<image v-if=\"state == 1\" src=\"../../static/images/facial_camera.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t<text>{{ rightButtonTitle }}</text>\r\n\t\t\t\t<text v-if=\"state == 4\" class=\"name\">{{ selectedStudent.name }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"compress\">\r\n\t\t\t<canvas id=\"canvasId\" canvas-id=\"canvasId\" type=\"2d\" :style=\"{width: '960px', height: '960px'}\">\r\n\t\t\t</canvas>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { getReq, postReq } from \"../../../common/request.js\";\r\n\timport { URL } from \"../../../common/url.js\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tisiOSSystem: false,\r\n\t\t\t\tselectedStudent: {},\r\n\t\t\t\tstudentList: [],\r\n\t\t\t\tschoolInfo: {},\r\n\t\t\t\ttmpSrc: '../../static/images/facial_user.png',\r\n\t\t\t\tbaiduToken: '',\r\n\t\t\t\terrorTips: '',\r\n\t\t\t\tfacialTips: '',\r\n\t\t\t\tstate: 0,\r\n\t\t\t\tcompleteStudent: [],\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\tleftButtonTitle() {\r\n\t\t\t\tswitch (this.state) {\r\n\t\t\t\t\tcase 2: // 重拍\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.againPhoto');\r\n\t\t\t\t\tcase 4: // 完成\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.complete');\r\n\t\t\t\t\tcase 5: // 完成\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.complete');\r\n\t\t\t\t\tcase 6: // 重新录入\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.againCapture');\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\trightButtonTitle() {\r\n\t\t\t\tswitch (this.state) {\r\n\t\t\t\t\tcase 0: // 开始录入\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.begainCapture');\r\n\t\t\t\t\tcase 1: // 拍照\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.takePhoto');\r\n\t\t\t\t\tcase 2: // 确认\r\n\t\t\t\t\t\treturn this.$t('common.enter');\r\n\t\t\t\t\tcase 3: // 重新录入\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.againCapture');\r\n\t\t\t\t\tcase 4: // 下一个\r\n\t\t\t\t\t\treturn this.$t('mine.mine.facialCapture.nextUpload');\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonLoad() {\r\n\t\t\tuni.setNavigationBarTitle({\r\n\t\t\t\ttitle: this.$t('mine.mine.facialCapture.title')\r\n\t\t\t});\r\n\t\t\tthis.isiOSSystem = uni.getSystemInfoSync().osName === 'ios';\r\n\r\n\t\t\tlet _this = this;\r\n\t\t\tconst eventChannel = _this.getOpenerEventChannel();\r\n\t\t\t// 监听acceptDataFromOpenerPage事件，获取上一页面通过eventChannel传送到当前页面的数据\r\n\t\t\teventChannel.on('acceptDataFromClassManagePage', function(data) {\r\n\t\t\t\t_this.selectedStudent = data.item;\r\n\t\t\t\t_this.studentList = data.studentList;\r\n\t\t\t\t_this.schoolInfo = data.school;\r\n\r\n\t\t\t\tif (!data.item.faceUrl) { return; }\r\n\t\t\t\t_this.state = 6;\r\n\t\t\t\t_this.tmpSrc = data.school.faceDomain + '/file' + data.item.faceUrl;\r\n\t\t\t\tif (data.item.modelStatus == 2) {\r\n\t\t\t\t\t_this.errorTips = _this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t} else if (data.item.modelStatus == 1) {\r\n\t\t\t\t\t_this.facialTips = _this.$t('mine.mine.facialCapture.facialModeling');\r\n\t\t\t\t} else if (data.item.modelStatus == 0) {\r\n\t\t\t\t\t_this.facialTips = _this.$t('mine.mine.facialCapture.uploadComplete');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tthis.queryBaiduToken();\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t// 获取百度云token\r\n\t\t\tqueryBaiduToken() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\t'grant_type': 'client_credentials',\r\n\t\t\t\t\t'client_id': '7aO67qYEKqhHIrHRbqLvcFVi',\r\n\t\t\t\t\t'client_secret': 'FexWTfbGyjqUFeIRwc9fnjto3CSyAN0m'\r\n\t\t\t\t};\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: 'https://aip.baidubce.com/oauth/2.0/token',\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_this.baiduToken = res.data.access_token || '';\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t_this.baiduToken = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 用户不允许使用摄像头时触发\r\n\t\t\tcameraAuthError(err) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\ttitle: err.message\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 点击左边按钮\r\n\t\t\ttapLeftButton() {\r\n\t\t\t\tif (this.state == 2) { // 重拍\r\n\t\t\t\t\tthis.state = 1;\r\n\t\t\t\t} else if (this.state == 4) { // 确定\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t} else if (this.state == 5) { // 确定\r\n\t\t\t\t\tuni.navigateBack();\r\n\t\t\t\t} else if (this.state == 6) { // 重新录入\r\n\t\t\t\t\tthis.state = 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 点击右边按钮\r\n\t\t\ttapRightButton() {\r\n\t\t\t\tif (this.state == 0) { // 开始录入\r\n\t\t\t\t\tthis.state = 1;\r\n\t\t\t\t} else if (this.state == 1) { // 拍照\r\n\t\t\t\t\tthis.takePhoto();\r\n\t\t\t\t} else if (this.state == 2) { // 确认\r\n\t\t\t\t\tthis.handlePhoto();\r\n\t\t\t\t} else if (this.state == 3) { // 重新录入\r\n\t\t\t\t\tthis.errorTips = null;\r\n\t\t\t\t\tthis.facialTips = null;\r\n\t\t\t\t\tthis.state = 1;\r\n\t\t\t\t} else if (this.state == 4) { // 下一个\r\n\t\t\t\t\tthis.errorTips = null;\r\n\t\t\t\t\tthis.facialTips = null;\r\n\t\t\t\t\tthis.state = 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 截取图片\r\n\t\t\ttakePhoto() {\r\n\t\t\t\tconst context = uni.createCameraContext();\r\n\t\t\t\tcontext.takePhoto({\r\n\t\t\t\t\tquality: 'high',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.tmpSrc = res.tempImagePath;\r\n\t\t\t\t\t\tthis.state = 2;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tthis.errorTips = this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\tthis.facialTips = this.$t('mine.mine.facialCapture.tipState');\r\n\t\t\t\t\t\tthis.state = 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 处理图片\r\n\t\t\thandlePhoto() {\r\n\t\t\t\tuni.showLoading();\r\n\t\t\t\tthis.getImageSize(this.tmpSrc).then((size) => {\r\n\t\t\t\t\tif (size >= 100 * 1024 && size <= 300 * 1024) {\r\n\t\t\t\t\t\tthis.readImage(this.tmpSrc);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.redrawImage(this.tmpSrc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.readImage(this.tmpSrc);\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 重绘图片\r\n\t\t\tredrawImage(imageSrc) {\r\n\t\t\t\twx.createSelectorQuery()\r\n\t\t\t\t\t.select('#canvasId') // 在 WXML 中填入的 id\r\n\t\t\t\t\t.fields({ node: true, size: true })\r\n\t\t\t\t\t.exec((res) => {\r\n\t\t\t\t\t\t// Canvas 对象\r\n\t\t\t\t\t\tconst canvas = res[0].node;\r\n\r\n\t\t\t\t\t\t// 渲染上下文\r\n\t\t\t\t\t\tconst ctx = canvas.getContext('2d');\r\n\r\n\t\t\t\t\t\t// Canvas 画布的实际绘制宽高\r\n\t\t\t\t\t\tconst width = res[0].width;\r\n\t\t\t\t\t\tconst height = res[0].height;\r\n\r\n\t\t\t\t\t\t// 初始化画布大小\r\n\t\t\t\t\t\tconst dpr = wx.getWindowInfo().pixelRatio;\r\n\t\t\t\t\t\tcanvas.width = width * dpr;\r\n\t\t\t\t\t\tcanvas.height = height * dpr;\r\n\t\t\t\t\t\tctx.scale(dpr, dpr);\r\n\r\n\t\t\t\t\t\t// 图片对象\r\n\t\t\t\t\t\tconst image = canvas.createImage()\r\n\t\t\t\t\t\t// 图片加载完成回调\r\n\t\t\t\t\t\timage.onload = () => {\r\n\t\t\t\t\t\t\t// 将图片绘制到 canvas 上\r\n\t\t\t\t\t\t\tctx.drawImage(image, 0, 0, 640, 640);\r\n\r\n\t\t\t\t\t\t\t// 生成图片\r\n\t\t\t\t\t\t\twx.canvasToTempFilePath({\r\n\t\t\t\t\t\t\t\tx: 0,\r\n\t\t\t\t\t\t\t\ty: 0,\r\n\t\t\t\t\t\t\t\twidth: 640,\r\n\t\t\t\t\t\t\t\theight: 640,\r\n\t\t\t\t\t\t\t\tdestWidth: 640,\r\n\t\t\t\t\t\t\t\tdestHeight: 640,\r\n\t\t\t\t\t\t\t\tcanvas,\r\n\t\t\t\t\t\t\t\tfileType: 'jpg',\r\n\t\t\t\t\t\t\t\tquality: 0.5,\r\n\t\t\t\t\t\t\t\tsuccess: tempRes => {\r\n\t\t\t\t\t\t\t\t\tthis.readImage(tempRes.tempFilePath);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\t\t\tthis.errorTips = this.$t(\r\n\t\t\t\t\t\t\t\t\t\t'mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\t\t\t\tthis.facialTips = null;\r\n\t\t\t\t\t\t\t\t\tthis.state = 3;\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t// 设置图片src\r\n\t\t\t\t\t\timage.src = imageSrc;\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 读取图片为发送检测人脸\r\n\t\t\treadImage(imageSrc) {\r\n\t\t\t\tlet fileManager = uni.getFileSystemManager();\r\n\t\t\t\tfileManager.readFile({\r\n\t\t\t\t\tencoding: 'base64',\r\n\t\t\t\t\tfilePath: imageSrc,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.sendImageDetection(res.data);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tthis.errorTips = this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\tthis.facialTips = null;\r\n\t\t\t\t\t\tthis.state = 3;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 发送图片到百度云人脸检测\r\n\t\t\tsendImageDetection(image) {\r\n\t\t\t\tif (!this.baiduToken) { return; }\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\t'image': image,\r\n\t\t\t\t\t'image_type': 'BASE64',\r\n\t\t\t\t\t'face_field': 'quality,eye_status,mask,spoofing',\r\n\t\t\t\t\t'max_face_num': 10,\r\n\t\t\t\t};\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: `https://aip.baidubce.com/rest/2.0/face/v3/detect?access_token=${_this.baiduToken}`,\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: params,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.data.error_code == 0) {\r\n\t\t\t\t\t\t\tlet tips = _this.handleFacialInfo(res.data.result);\r\n\t\t\t\t\t\t\tif (tips !== '') {\r\n\t\t\t\t\t\t\t\t_this.errorTips = _this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\t\t\t_this.facialTips = tips;\r\n\t\t\t\t\t\t\t\t_this.state = 3\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.uploadImage(image);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t_this.errorTips = _this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\t\t_this.facialTips = null;\r\n\t\t\t\t\t\t\t_this.state = 3;\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t_this.errorTips = _this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\t_this.facialTips = null;\r\n\t\t\t\t\t\t_this.state = 3;\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 处理百度人脸检测返回信息\r\n\t\t\thandleFacialInfo(info) {\r\n\t\t\t\tif (info.face_num > 1) { // 检测到的图片中的人脸数量\r\n\t\t\t\t\treturn '请单独录入';\r\n\t\t\t\t}\r\n\t\t\t\tlet face = info.face_list[0];\r\n\t\t\t\tif (face.face_probability < 0.8) { // 人脸置信度，范围【0~1】\r\n\t\t\t\t\treturn '请录入人脸';\r\n\t\t\t\t}\r\n\t\t\t\tif (face.angle.yaw > 15 || face.angle.yaw < -15) { // 左右转脸，左右旋转角[-90(左), 90(右)]\r\n\t\t\t\t\treturn '请不要左右转动';\r\n\t\t\t\t}\r\n\t\t\t\tif (face.angle.pitch > 20 || face.angle.pitch < -20) { // 抬头低头，俯仰角度[-90(上), 90(下)]\r\n\t\t\t\t\treturn '请不要低头或抬头';\r\n\t\t\t\t}\r\n\t\t\t\tif (face.mask.type == 1 && face.mask.probability > 0.5) { // 带口罩，0代表没戴口罩 1 代表戴口罩，置信度，范围0~1\r\n\t\t\t\t\treturn '请不要带口罩';\r\n\t\t\t\t}\r\n\t\t\t\tif (face.eye_status.left_eye < 0.3 || face.eye_status.right_eye <\r\n\t\t\t\t\t0.3) { // 左右眼闭合，[0,1]取值，越接近0闭合的可能性越大\r\n\t\t\t\t\treturn '请不要闭眼';\r\n\t\t\t\t}\r\n\t\t\t\tif (face.quality.blur > 0.7) { // 人脸模糊程度，范围[0~1]，0表示清晰，1表示模糊\r\n\t\t\t\t\treturn '请保持稳定，不要抖动';\r\n\t\t\t\t}\r\n\t\t\t\tif (face.quality.completeness != 1) { // 人脸完整度，0或1, 0为人脸溢出图像边界，1为人脸都在图像边界内\r\n\t\t\t\t\treturn '请保持人脸在框内';\r\n\t\t\t\t}\r\n\t\t\t\tlet occlusion = face.quality.occlusion;\r\n\t\t\t\tif (occlusion.left_eye > 0.3) { // 左眼遮挡比例，[0-1] ，1表示完全遮挡\r\n\t\t\t\t\treturn '请不要遮挡眼睛';\r\n\t\t\t\t}\r\n\t\t\t\tif (occlusion.right_eye > 0.3) { // 右眼遮挡比例，[0-1] ， 1表示完全遮挡\r\n\t\t\t\t\treturn '请不要遮挡眼睛';\r\n\t\t\t\t}\r\n\t\t\t\tif (occlusion.nose > 0.3) { // 鼻子遮挡比例，[0-1] ， 1表示完全遮挡\r\n\t\t\t\t\treturn '请不要遮挡鼻子';\r\n\t\t\t\t}\r\n\t\t\t\tif (occlusion.mouth > 0.3) { // 嘴巴遮挡比例，[0-1] ， 1表示完全遮挡\r\n\t\t\t\t\treturn '请不要遮挡嘴巴';\r\n\t\t\t\t}\r\n\t\t\t\tif (occlusion.left_cheek > 0.3) { // 左脸颊遮挡比例，[0-1] ， 1表示完全遮挡\r\n\t\t\t\t\treturn '请不要遮挡脸颊';\r\n\t\t\t\t}\r\n\t\t\t\tif (occlusion.right_cheek > 0.3) { // 右脸颊遮挡比例，[0-1] ， 1表示完全遮挡\r\n\t\t\t\t\treturn '请不要遮挡脸颊';\r\n\t\t\t\t}\r\n\t\t\t\tif (occlusion.chin > 0.3) { // 下巴遮挡比例，，[0-1] ， 1表示完全遮挡\r\n\t\t\t\t\treturn '请不要遮挡下巴';\r\n\t\t\t\t}\r\n\t\t\t\treturn '';\r\n\t\t\t},\r\n\r\n\t\t\t// 上传图片\r\n\t\t\tuploadImage(fileData) {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tconst formData = {\r\n\t\t\t\t\t'baseFile': fileData,\r\n\t\t\t\t\t'uploadSource': '4' // 1.一体机；2.APP；3.管理后台；4.小程序\r\n\t\t\t\t};\r\n\t\t\t\tconst headers = {\r\n\t\t\t\t\tstudentId: _this.selectedStudent.studentId\r\n\t\t\t\t};\r\n\t\t\t\tpostReq(URL.apiPostFaceUpload, formData, headers).then((result) => {\r\n\t\t\t\t\tif (result.error == 10000) {\r\n\t\t\t\t\t\tconst params = Object.assign({}, result.data, {\r\n\t\t\t\t\t\t\tstudentId: _this.selectedStudent.studentId || ''\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tpostReq(URL.apiPostFaceBinding, params, headers).then((res) => {\r\n\t\t\t\t\t\t\tif (res.error == 10000) {\r\n\t\t\t\t\t\t\t\t_this.handleUploadCompleted();\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t_this.errorTips = _this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\t\t\t_this.facialTips = null;\r\n\t\t\t\t\t\t\t\t_this.state = 3;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_this.errorTips = _this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t\t_this.facialTips = null;\r\n\t\t\t\t\t\t_this.state = 3;\r\n\t\t\t\t\t}\r\n\t\t\t\t}).catch((err) => {\r\n\t\t\t\t\t_this.errorTips = _this.$t('mine.mine.facialCapture.captureFailState');\r\n\t\t\t\t\t_this.facialTips = null;\r\n\t\t\t\t\t_this.state = 3;\r\n\t\t\t\t}).finally(() => {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t//\t处理上传完成状态\r\n\t\t\thandleUploadCompleted() {\r\n\t\t\t\tthis.facialTips = this.$t('mine.mine.facialCapture.statusState');\r\n\t\t\t\tthis.completeStudent.push(this.selectedStudent.studentId);\r\n\t\t\t\tconst nextStudent = this.studentList.find((item) => {\r\n\t\t\t\t\tconst isEmpty = item.modelStatus == null || (item.modelStatus == 0 && !item.faceUrl);\r\n\t\t\t\t\tconst isCompleted = this.completeStudent.includes(item\r\n\t\t\t\t\t\t.studentId);\r\n\t\t\t\t\treturn !isCompleted && (isEmpty || item.modelStatus == 2);\r\n\t\t\t\t});\r\n\t\t\t\tif (nextStudent) {\r\n\t\t\t\t\tthis.selectedStudent = nextStudent;\r\n\t\t\t\t\tthis.state = 4;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.state = 5;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 图片尺寸\r\n\t\t\tgetImageSize(imageSrc) {\r\n\t\t\t\treturn new Promise((resolve, reject) => {\r\n\t\t\t\t\tlet fileManager = uni.getFileSystemManager();\r\n\t\t\t\t\tfileManager.getFileInfo({\r\n\t\t\t\t\t\tfilePath: imageSrc,\r\n\t\t\t\t\t\tsuccess: (fileInfo) => {\r\n\t\t\t\t\t\t\tresolve(fileInfo.size);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\t\treject(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.container {\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.top-part {\r\n\t\tmargin-top: 40rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\t.portrait-border {\r\n\t\t\twidth: 560rpx;\r\n\t\t\theight: 560rpx;\r\n\t\t\tmargin-bottom: 36rpx;\r\n\t\t\tbackground-color: #F9F9F9;\r\n\t\t\tborder: 8rpx solid #3A80FE;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\toverflow: hidden;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.portrait-camera {\r\n\t\t\t\twidth: inherit;\r\n\t\t\t\theight: inherit;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\r\n\t\t\t.and-bezel-img {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 47rpx;\r\n\t\t\t\tleft: 105rpx;\r\n\t\t\t\twidth: 545rpx;\r\n\t\t\t\theight: 545rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tz-index: 50;\r\n\t\t\t}\r\n\r\n\t\t\t.ios-bezel-img {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: -2rpx;\r\n\t\t\t\tleft: -2rpx;\r\n\t\t\t\twidth: 554rpx;\r\n\t\t\t\theight: 554rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tz-index: 50;\r\n\t\t\t}\r\n\r\n\t\t\t@keyframes moveScan {\r\n\t\t\t\tfrom {\r\n\t\t\t\t\ttransform: translateY(-140rpx);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tto {\r\n\t\t\t\t\ttransform: translateY(660rpx);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@-webkit-keyframes moveScan {\r\n\t\t\t\tfrom {\r\n\t\t\t\t\ttransform: translateY(-140rpx);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tto {\r\n\t\t\t\t\ttransform: translateY(calc(660rpx));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.scan-view {\r\n\t\t\t\twidth: inherit;\r\n\t\t\t\theight: 100rpx;\r\n\t\t\t\tmargin-top: calc(0rpx - 140rpx - 560rpx);\r\n\t\t\t\tz-index: 100;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tbackground-image: url(../../static/images/facial_scan.png);\r\n\t\t\t\tbackground-size: 100% 100%;\r\n\t\t\t\tanimation: moveScan 4s ease 1s infinite;\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.ios-border {\r\n\t\t\t-webkit-backface-visibility: hidden;\r\n\t\t\t-webkit-transform: translate3d(0, 0, 0);\r\n\t\t}\r\n\r\n\t\t.ios-scan {\r\n\t\t\t-webkit-animation: moveScan 4s ease 1s infinite;\r\n\t\t}\r\n\r\n\t\t.validate-text {\r\n\t\t\tfont-size: 48rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\tcolor: #333333;\r\n\t\t\ttext-align: center;\r\n\t\t}\r\n\r\n\t\t.white-border {\r\n\t\t\tborder: 8rpx solid #FFFFFF;\r\n\t\t}\r\n\r\n\t\t.red-border {\r\n\t\t\tborder: 8rpx solid #FF4444;\r\n\t\t}\r\n\r\n\t\t.blue-color {\r\n\t\t\tcolor: #3A80FE;\r\n\t\t}\r\n\r\n\t\t.red-color {\r\n\t\t\tcolor: #FF4444;\r\n\t\t}\r\n\r\n\t\t.gray-color {\r\n\t\t\tcolor: #999999;\r\n\t\t}\r\n\r\n\t\t.tip-text {\r\n\t\t\tmargin-top: 16rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 400;\r\n\t\t}\r\n\r\n\t\t.row-center {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.column-center {\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\tjustify-content: center;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.validate-icon {\r\n\t\t\twidth: 54rpx;\r\n\t\t\theight: 54rpx;\r\n\t\t\tmargin-right: 8rpx;\r\n\t\t}\r\n\r\n\t\t.indicator {\r\n\t\t\twidth: 344rpx;\r\n\t\t\theight: 170rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t.bottom-part {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\r\n\t\t.left-button {\r\n\t\t\twidth: 300rpx;\r\n\t\t\theight: 108rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t\tbackground-color: #FFFFFF;\r\n\t\t\tborder-color: #2A84FF;\r\n\t\t\tborder-radius: 54rpx;\r\n\t\t\tcolor: #2A84FF;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n\t\t.right-button {\r\n\t\t\twidth: 300rpx;\r\n\t\t\theight: 108rpx;\r\n\t\t\tmargin-top: 20rpx;\r\n\t\t\tmargin-bottom: 40rpx;\r\n\t\t\tbackground-color: #2A84FF;\r\n\t\t\tborder-color: #2A84FF;\r\n\t\t\tborder-radius: 54rpx;\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t\tfont-size: 34rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: row;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\r\n\t\t\timage {\r\n\t\t\t\twidth: 54rpx;\r\n\t\t\t\theight: 54rpx;\r\n\t\t\t\tmargin-right: 4rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.name {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.next {\r\n\t\t\tflex-direction: column;\r\n\t\t}\r\n\t}\r\n\r\n\t.compress {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\t// width: 375px;\r\n\t\t// height: 375px;\r\n\t\tposition: fixed;\r\n\t\ttop: -99999px;\r\n\t\t// top: 100rpx;\r\n\t\tleft: 0;\r\n\t\toverflow: hidden;\r\n\t}\r\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facialCapture.vue?vue&type=style&index=0&id=207a1be2&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./facialCapture.vue?vue&type=style&index=0&id=207a1be2&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1760978937112\n      var cssReload = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}