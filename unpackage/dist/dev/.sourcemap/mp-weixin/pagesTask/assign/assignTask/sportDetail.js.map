{"version":3,"sources":["uni-app:///main.js",null,"webpack:////Users/a8833/Documents/GitHub/jxj_miniprograms-dev/pagesTask/assign/assignTask/sportDetail.vue?4ac1","webpack:////Users/a8833/Documents/GitHub/jxj_miniprograms-dev/pagesTask/assign/assignTask/sportDetail.vue?0906","webpack:////Users/a8833/Documents/GitHub/jxj_miniprograms-dev/pagesTask/assign/assignTask/sportDetail.vue?3e2c","uni-app:///pagesTask/assign/assignTask/sportDetail.vue","webpack:////Users/a8833/Documents/GitHub/jxj_miniprograms-dev/pagesTask/assign/assignTask/sportDetail.vue?03cc","webpack:////Users/a8833/Documents/GitHub/jxj_miniprograms-dev/pagesTask/assign/assignTask/sportDetail.vue?0ee6"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","data","option","sportDetail","durationMinutes","isLogin","computed","currentImageUrl","onLoad","onShow","onReady","methods","apiGetSportDetail","id","onDurationChanging","onDurationChange","onPrimaryAction","uni","url"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,oBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoI;AACpI;AAC+D;AACL;AACsC;;;AAGhG;AACyN;AACzN,gBAAgB,uNAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,kGAAM;AACR,EAAE,2GAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAs3B,CAAgB,u0BAAG,EAAC,C;;;;;;;;;;;;;;;;;;AC6C14B;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;QACA;UACA;YAAA;UAAA;UACA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;IACA;MACA;MACA;IACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;MACA;QACA;UACA;QACA;UACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACAC;UAAAC;QAAA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAD;QAAAC;MAAA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AChIA;AAAA;AAAA;AAAA;AAAipD,CAAgB,s/CAAG,EAAC,C;;;;;;;;;;;ACArqD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagesTask/assign/assignTask/sportDetail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesTask/assign/assignTask/sportDetail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./sportDetail.vue?vue&type=template&id=098df646&scoped=true&\"\nvar renderjs\nimport script from \"./sportDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./sportDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sportDetail.vue?vue&type=style&index=0&id=098df646&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"098df646\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesTask/assign/assignTask/sportDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sportDetail.vue?vue&type=template&id=098df646&scoped=true&\"","var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sportDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sportDetail.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"sportDetail\">\n\t\t<!-- 顶部媒体改为图片，依据选择的计时分钟动态切换 -->\n\t\t<view class=\"video-wrap\">\n\t\t\t<image class=\"video-content\" :src=\"currentImageUrl\" mode=\"aspectFill\"></image>\n\t\t</view>\n\t\t<view class=\"sportName\">\n\t\t\t{{sportDetail.aiSportName}}\n\t\t</view>\n\t\t<!-- 计时与操作卡片（默认：分钟，范围1-10，步进1） -->\n\t\t<view class=\"timer-card\">\n\t\t\t<view class=\"timer-title\">计时 {{ durationMinutes }}分钟</view>\n\t\t\t<view class=\"slider-wrap\">\n\t\t\t\t<slider :value=\"durationMinutes\"\n\t\t\t\t\tmin=\"1\"\n\t\t\t\t\tmax=\"10\"\n\t\t\t\t\tstep=\"1\"\n\t\t\t\t\tactive-color=\"#5C8FF7\"\n\t\t\t\t\tbackgroundColor=\"#E8F0FE\"\n\t\t\t\t\t@changing=\"onDurationChanging\"\n\t\t\t\t\t@change=\"onDurationChange\"\n\t\t\t\t/>\n\t\t\t</view>\n\t\t\t<button class=\"primary-btn\" @click=\"onPrimaryAction\">{{ isLogin ? '开始' : '登录' }}</button>\n\t\t</view>\n\t\t<view class=\"sport-text\">\n\t\t\t<view class=\"sport-text-title\">\n\t\t\t\t练习方法\n\t\t\t</view>\n\t\t\t<view>\n\t\t\t\t{{sportDetail.aiSportMethod}}\n\t\t\t</view>\n\t\t</view>\n\t\t<view class=\"sport-text\">\n\t\t\t<view class=\"sport-text-title\">\n\t\t\t\t注意事项\n\t\t\t</view>\n\t\t\t<view>\n\t\t\t\t{{sportDetail.aiSportMattersNeedingAttention}}\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n    import { getReq } from \"@/common/request.js\";\n    import { URL } from \"@/common/url.js\";\n    export default {\n        data() {\n            return {\n                option: {},\n                sportDetail: {},\n                // 计时默认值：1分钟，可改动\n                durationMinutes: 1,\n                // 登录状态：根据本地是否存在 xiaotiyunUser 判断\n                isLogin: false\n            }\n        },\n        computed: {\n            // 为了支持动态图片，根据分钟选择不同图片\n            currentImageUrl() {\n                // 支持多种字段：durationImages/durationImgMap；若没有则使用封面 aiSportImg；再无则用默认占位图\n                const m = Number(this.durationMinutes)\n                const map = this.sportDetail.durationImages || this.sportDetail.durationImgMap || null\n                if (map) {\n                    // map 可能是 {\"1\":\"url1\", \"2\":\"url2\"}\n                    const byKey = map[m] || map[String(m)]\n                    if (byKey) return byKey\n                    // 或者是数组 [{minutes:1,url:\"...\"}]\n                    if (Array.isArray(map)) {\n                        const found = map.find(it => Number(it.minutes) === m && (it.url || it.imgUrl))\n                        if (found) return found.url || found.imgUrl\n                    }\n                }\n                return this.sportDetail.aiSportImg || '/static/images/students/default.png'\n            }\n        },\n        onLoad(e) {\n            this.option = e\n        },\n        onShow() {\n            // 刷新登录状态（学生端）\n            try {\n                const user = uni.getStorageSync('xiaotiyunUser')\n                this.isLogin = !!user\n            } catch (err) {\n                this.isLogin = false\n            }\n        },\n        onReady() {\n            this.apiGetSportDetail()\n        },\n        methods: {\n            apiGetSportDetail() {\n                getReq(URL.apiGetSportDetail, {\n                    id: this.option.id\n                }).then(res => {\n                    if (res.data && JSON.stringify(res.data) !== '{}') {\n                        this.sportDetail = res.data\n                    } else {\n                        this.sportDetail = {}\n                    }\n                }).catch(() => {\n                    this.sportDetail = {}\n                })\n            },\n            // 滑条实时与最终变更处理\n            onDurationChanging(e) {\n                this.durationMinutes = e.detail.value\n            },\n            onDurationChange(e) {\n                this.durationMinutes = e.detail.value\n            },\n            onPrimaryAction() {\n                if (!this.isLogin) {\n                    uni.navigateTo({ url: '/pages/students/login/index' })\n                    return\n                }\n                // 跳转到 3 秒倒计时界面，传递必要参数，倒计时结束后进入练习页面\n                const id = this.option.id || this.sportDetail.aiSportId || this.sportDetail.sportId || ''\n                const duration = Number(this.durationMinutes) || 1\n                const seconds = 3\n                // 此处不要对路径进行 encode，避免无法识别页面路径而不跳转\n                const returnUrl = '/pagesTask/assign/assignTask/practice'\n                const url = `/pagesTask/assign/assignTask/countdown?id=${encodeURIComponent(id)}&duration=${duration}&seconds=${seconds}&returnUrl=${encodeURIComponent(returnUrl)}`\n                uni.navigateTo({ url })\n            }\n        }\n    }\n</script>\n\n<style scoped lang=\"scss\">\n\t.sportDetail {\n\t\tpadding: 46rpx 38rpx;\n\t\tpadding-bottom: calc(46rpx + constant(safe-area-inset-bottom));\n\t\tpadding-bottom: calc(46rpx + env(safe-area-inset-bottom));\n\t}\n\n\t.video-wrap {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tpadding-bottom: 56.25%;\n\t\tborder-radius: 28rpx;\n\t\toverflow: hidden;\n\t\tmargin-bottom: 46rpx;\n\n\t\t.video-content {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t}\n\t}\n\n\t.sportName {\n\t\tfont-size: 34rpx;\n\t\tline-height: 48rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #202020;\n\t\tmargin-bottom: 40rpx;\n\t}\n\n\t/* 计时卡片样式 */\n\t.timer-card {\n\t\tbackground: #FFFFFF;\n\t\tborder-radius: 24rpx;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.06);\n\t\tpadding: 28rpx;\n\t\tmargin-bottom: 40rpx;\n\t}\n\n\t.timer-title {\n\t\ttext-align: center;\n\t\tfont-size: 28rpx;\n\t\tcolor: #202020;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.slider-wrap {\n\t\tpadding: 0 10rpx 24rpx;\n\t}\n\n\t.primary-btn {\n\t\twidth: 100%;\n\t\theight: 88rpx;\n\t\tline-height: 88rpx;\n\t\ttext-align: center;\n\t\tbackground: #5C8FF7;\n\t\tcolor: #FFFFFF;\n\t\tborder: none;\n\t\tborder-radius: 16rpx;\n\t}\n\n\t.sport-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 400;\n\t\tcolor: #707070;\n\t\tline-height: 36rpx;\n\t\tbackground: #FFFFFF; /* 背景色卡片 */\n\t\tborder-radius: 24rpx;\n\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.06);\n\t\tpadding: 28rpx;\n\t\tmargin-bottom: 30rpx;\n\t}\n\n\t.sport-text-title {\n\t\tfont-weight: 600;\n\t\tcolor: #202020;\n\t\tline-height: 40rpx;\n\t\tmargin-bottom: 16rpx;\n\t}\n\n\t.sport-text+.sport-text {\n\t\tmargin-top: 0; /* 已通过 margin-bottom 控制间距 */\n\t}\n</style>\n","import mod from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sportDetail.vue?vue&type=style&index=0&id=098df646&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sportDetail.vue?vue&type=style&index=0&id=098df646&scoped=true&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1761690328818\n      var cssReload = require(\"/Applications/HBuilderX-Alpha.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}