{"version":3,"file":"pagesData/physicalData/studentDetail/downloadFile.js","mappings":";;;+mBAEAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,EAAAA,W;;;2uBCLX,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,EACrB,EACIC,EAAkB,GACtBP,EAAOQ,eAAgB,EAEvB,IAAIC,EAAgD,qBAArBA,GAA4CA,EACvEC,EAAoC,qBAAfA,OAA8BC,EAAYD,C;;;+qBCJnE,SACAE,IAAAA,GACA,OACAC,SAAA,EAEA,EACAC,MAAAA,CAAAC,GACA,IAAAC,EAAA,KACAC,EAAAC,sBAAA,CACAC,MAAA,KAAAC,GAAA,0CAGA,IAAAC,EAAAC,KAAAC,MAAAR,EAAAM,SACAG,QAAAC,IAAAJ,GACAA,GAEAL,EAAAU,YAAAL,EAEA,EACAM,MAAAA,GACA,KAAAd,SAEAI,EAAAW,aAAA,CACAC,MAAA,GAGA,EACAC,MAAAA,GACA,KAAAjB,SAAA,CACA,EACAkB,QAAA,CA0BAL,WAAAA,CAAAL,GAEAJ,EAAAe,aAAA,CACAC,IAAAZ,EACAa,QAAAC,IACA,MAAAA,EAAAC,YACAnB,EAAAoB,aAAA,CACAC,SAAAH,EAAAI,aACAC,UAAA,EACAN,QAAA,SAAAO,GACAjB,QAAAC,IAAA,SACA,EACAiB,KAAA,SAAAC,GACA1B,EAAA2B,UAAA,CACAC,KAAA,OACA1B,MAAA,UACA2B,SAAA,MAEAC,WAAA,KACA9B,EAAAW,aAAA,CACAC,MAAA,KAEA,IACA,KAIAa,KAAAM,IACAxB,QAAAC,IAAAuB,GACA/B,EAAA2B,UAAA,CACAC,KAAA,OACA1B,MAAA,UACA2B,SAAA,MAEAC,WAAA,KACA9B,EAAAW,aAAA,CACAC,MAAA,KAEA,OAGA,G;;;+GCrGIoB,E,2fAOAC,GAAY,gBACd,aACA,EAAAlD,OACA,EAAAO,iBACA,EACA,KACA,KACA,MACA,EACA,EAAAG,WACAuC,GAGFC,EAAUnC,QAAQoC,OAAS,wDAC3B,QAAeD,E;;;ioCCtB0f,QAAe,Y","sources":["uni-app:///main.js","webpack:///./pagesData/physicalData/studentDetail/downloadFile.vue?1e67","uni-app:///pagesData/physicalData/studentDetail/downloadFile.vue","webpack:///./pagesData/physicalData/studentDetail/downloadFile.vue?f562","webpack:///./pagesData/physicalData/studentDetail/downloadFile.vue?d492"],"sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesData/physicalData/studentDetail/downloadFile.vue'\ncreatePage(Page)","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nvar recyclableRender = (typeof recyclableRender === 'undefined') ? false : recyclableRender;\nvar components = (typeof components === 'undefined') ? undefined : components;\n\nexport { render, staticRenderFns, recyclableRender, components }","<template>\n\t<view></view>\n</template>\n\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tisFirst: true,\n\t\t}\n\t},\n\tonLoad(options) {\n\t\tlet _this = this;\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: this.$t('data.physicalData.downloadFile.title')\n\t\t})\n\t\t// console.log(\"download\");\n\t\tlet fileUrl = JSON.parse(options.fileUrl);\n\t\tconsole.log(fileUrl)\n\t\tif(fileUrl){\n\t\t\t// _this.downImg();\n\t\t\t_this.downNetFile(fileUrl);\n\t\t}\n\t},\n\tonShow(){\n\t\tif(!this.isFirst){\n\t\t\t// 不是第一次进入\n\t\t\tuni.navigateBack({\n\t\t\t\tdelta: 1,\n\t\t\t})\n\t\t}\n\t},\n\tonHide(){\n\t\tthis.isFirst = false;\n\t},\n\tmethods: {\n\t\t// downImg(){\n\t\t// \tlet _this = this;\n\t\t// \tlet fsm = wx.getFileSystemManager();\n\t\t// \tfsm.writeFile({\n\t\t// \t\tfilePath: `${wx.env.USER_DATA_PATH}/${_this.className}-${_this.studentName}-${_this.isPhysical?'体测':'体质'}详情.png`,\n\t\t// \t\tdata: _this.imgBase64.slice(22),\n\t\t// \t\tencoding: 'base64',\n\t\t// \t\tsuccess: res => {\n\t\t// \t\t\twx.saveImageToPhotosAlbum({\n\t\t// \t\t\t\tfilePath: `${wx.env.USER_DATA_PATH}/${_this.className}-${_this.studentName}-${_this.isPhysical?'体测':'体质'}详情.png`,\n\t\t// \t\t\t\tsuccess: function (response) {\n\t\t// \t\t\t\t\twx.showToast({\n\t\t// \t\t\t\t\t\ttitle: '保存成功',\n\t\t// \t\t\t\t\t})\n\t\t// \t\t\t\t},\n\t\t// \t\t\t\tfail: function (err) {\n\t\t// \t\t\t\t\tconsole.log(err)\n\t\t// \t\t\t\t}\n\t\t// \t\t\t})\n\t\t// \t\t\tconsole.log(res)\n\t\t// \t\t}, fail: err => {\n\t\t// \t\t\tconsole.log(err)\n\t\t// \t\t}\n\t\t// \t})\n\t\t// },\n\t\tdownNetFile(fileUrl){\n\t\t\tlet _this = this;\n\t\t\tuni.downloadFile({\n\t\t\t\turl: fileUrl,  \n\t\t\t\tsuccess: (res) => { \n\t\t\t\t\tif (res.statusCode === 200) {\n\t\t\t\t\t\tuni.openDocument({\n\t\t\t\t\t\t\tfilePath: res.tempFilePath ,\n\t\t\t\t\t\t\tshowMenu: true,\n\t\t\t\t\t\t\tsuccess: function (response){\n\t\t\t\t\t\t\t\tconsole.log('打开文档成功')\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail:function(error){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\t\t\ttitle: \"打开文件失败！\",\n\t\t\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\t\tdelta: 1,\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},1000)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.log(err);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: \"下载文件失败！\",\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t});\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\tdelta: 1,\n\t\t\t\t\t\t})\n\t\t\t\t\t},1000)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t}\n}\n</script>\n\n<style>\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./downloadFile.vue?vue&type=template&id=b09b5514&\"\nvar renderjs\nimport script from \"./downloadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./downloadFile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesData/physicalData/studentDetail/downloadFile.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./downloadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./downloadFile.vue?vue&type=script&lang=js&\""],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","render","_vm","this","_h","$createElement","_self","_c","staticRenderFns","_withStripped","recyclableRender","components","undefined","data","isFirst","onLoad","options","_this","uni","setNavigationBarTitle","title","$t","fileUrl","JSON","parse","console","log","downNetFile","onShow","navigateBack","delta","onHide","methods","downloadFile","url","success","res","statusCode","openDocument","filePath","tempFilePath","showMenu","response","fail","error","showToast","icon","duration","setTimeout","err","renderjs","component","__file"],"sourceRoot":""}