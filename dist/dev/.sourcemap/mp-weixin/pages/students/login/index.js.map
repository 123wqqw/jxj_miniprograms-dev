{"version":3,"file":"pages/students/login/index.js","mappings":";;;ujBAEAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,EAAAA,W;;;6uBCLX,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,EACrB,EACIC,EAAkB,GACtBP,EAAOQ,eAAgB,EAEvB,IAAIC,EAAgD,qBAArBA,GAA4CA,EACvEC,EAAoC,qBAAfA,OAA8BC,EAAYD,C;;;uwBCoEnE,SACAE,IAAAA,GACA,OACAC,gBAAA,EACAC,WAAA,EACAC,SAAA,CACAC,UAAA,GACAC,SAAA,IAEAC,OAAA,CACAF,UAAA,GACAC,SAAA,IAGA,EACAE,MAAAA,GACA,KAAAC,eACA,EACAC,QAAA,CAEAD,aAAAA,GACA,MAAAE,EAAAC,EAAAC,oBACA,KAAAX,gBAAAS,EAAAT,iBAAA,EACA,EAGAY,UAAAA,CAAAC,GACA,KAAAR,OAAAQ,KACA,KAAAR,OAAAQ,GAAA,GAEA,EAGAC,YAAAA,GACA,IAAAC,GAAA,EAwBA,OAvBA,KAAAV,OAAA,CACAF,UAAA,GACAC,SAAA,IAIA,KAAAF,SAAAC,UAAAa,OAGA,KAAAd,SAAAC,UAAAa,OAAAC,OAAA,IACA,KAAAZ,OAAAF,UAAA,cACAY,GAAA,IAJA,KAAAV,OAAAF,UAAA,SACAY,GAAA,GAOA,KAAAb,SAAAE,SAAAY,OAGA,KAAAd,SAAAE,SAAAY,OAAAC,OAAA,IACA,KAAAZ,OAAAD,SAAA,aACAW,GAAA,IAJA,KAAAV,OAAAD,SAAA,QACAW,GAAA,GAMAA,CACA,EAGA,iBAAAG,GACA,SAAAjB,WAGA,KAAAa,eAAA,CAIA,KAAAb,WAAA,EAEA,IAEA,MAAAkB,EAAA,CACAhB,UAAA,KAAAD,SAAAC,UAAAa,OACAZ,SAAA,KAAAF,SAAAE,SAAAY,QAGAI,QAAAC,IAAA,QAAAF,GAGA,MAAAG,QAAAC,EAAAA,EAAAA,SAAAC,EAAAA,IAAAC,4BAAAN,GAIA,GAHAC,QAAAC,IAAA,QAAAC,IAGAA,IAAAA,EAAAvB,KAgBA,UAAA2B,MAAA,gBAfAhB,EAAAiB,eAAA,gBAAAL,EAAAvB,MAGAW,EAAAkB,UAAA,CACAC,MAAA,OACAC,KAAA,YAIAC,WAAA,KACArB,EAAAsB,SAAA,CACAC,IAAA,gCAEA,KAKA,OAAAC,GACAd,QAAAc,MAAA,QAAAA,GAGAxB,EAAAkB,UAAA,CACAC,MAAAK,EAAAC,SAAA,eACAL,KAAA,QAEA,SACA,KAAA7B,WAAA,CACA,CA/CA,CAgDA,EAGAmC,kBAAAA,GACA1B,EAAA2B,WAAA,CACAJ,IAAA,wCAEA,EAGAK,YAAAA,GACA5B,EAAA2B,WAAA,CACAJ,IAAA,kCAEA,G;;;;;;qGC9MIM,E,qoBAQAC,GAAY,gBACd,aACA,EAAArD,OACA,EAAAO,iBACA,EACA,KACA,WACA,MACA,EACA,EAAAG,WACA0C,GAGFC,EAAUC,QAAQC,OAAS,iCAC3B,QAAeF,E;;;ylCCvBmf,QAAe,Y;;;+oECAse,QAAe,G","sources":["uni-app:///main.js","webpack:///./pages/students/login/index.vue?a5aa","uni-app:///pages/students/login/index.vue","webpack:///./pages/students/login/index.vue?1efb","webpack:///./pages/students/login/index.vue?94a1","webpack:///./pages/students/login/index.vue?3ee5"],"sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/students/login/index.vue'\ncreatePage(Page)","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nvar recyclableRender = (typeof recyclableRender === 'undefined') ? false : recyclableRender;\nvar components = (typeof components === 'undefined') ? undefined : components;\n\nexport { render, staticRenderFns, recyclableRender, components }","<template>\n\t<view class=\"login-container\">\n\t\t<!-- 顶部背景图片 -->\n\t\t<view class=\"top-background\">\n\t\t\t<image src=\"/static/images/students/bgimage.png\" mode=\"aspectFill\" class=\"background-image\"></image>\n\t\t</view>\n\t\t\n\t\t<!-- 状态栏占位 -->\n\t\t<view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n\t\t\n\t\t<!-- 登录表单区域 -->\n\t\t<view class=\"login-form-container\">\n\t\t\t<!-- Logo区域 -->\n\t\t\t<view class=\"logo-section\">\n\t\t\t\t<image src=\"/static/images/students/logo.png\" mode=\"aspectFit\" class=\"logo-image\"></image>\n\t\t\t\t<view class=\"app-title\">校体云</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 登录表单 -->\n\t\t\t<view class=\"login-form\">\n\t\t\t\t<view class=\"form-title\">学生登录</view>\n\t\t\t\t\n\t\t\t\t<!-- 学籍号输入框 -->\n\t\t\t\t<view class=\"input-group\">\n\t\t\t\t\t<view class=\"input-label\">学籍号</view>\n\t\t\t\t\t<view class=\"input-wrapper\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tv-model=\"formData.studentId\" \n\t\t\t\t\t\t\tplaceholder=\"请输入学籍号\" \n\t\t\t\t\t\t\tclass=\"input-field\"\n\t\t\t\t\t\t\t:class=\"{ 'error': errors.studentId }\"\n\t\t\t\t\t\t\t@input=\"clearError('studentId')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"error-message\" v-if=\"errors.studentId\">{{ errors.studentId }}</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 密码输入框 -->\n\t\t\t\t<view class=\"input-group\">\n\t\t\t\t\t<view class=\"input-label\">密码</view>\n\t\t\t\t\t<view class=\"input-wrapper\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tv-model=\"formData.password\" \n\t\t\t\t\t\t\tplaceholder=\"请输入密码\" \n\t\t\t\t\t\t\tpassword\n\t\t\t\t\t\t\tclass=\"input-field\"\n\t\t\t\t\t\t\t:class=\"{ 'error': errors.password }\"\n\t\t\t\t\t\t\t@input=\"clearError('password')\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"error-message\" v-if=\"errors.password\">{{ errors.password }}</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 忘记密码链接 -->\n\t\t\t\t<view class=\"forgot-password\" @click=\"goToForgotPassword\">\n\t\t\t\t\t<text class=\"forgot-text\">忘记密码？</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 登录按钮 -->\n\t\t\t\t<view class=\"login-button\" @click=\"handleLogin\" :class=\"{ 'disabled': isLogging }\">\n\t\t\t\t\t<text class=\"login-button-text\">{{ isLogging ? '登录中...' : '登录' }}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- 注册链接 -->\n\t\t\t\t<view class=\"register-link\">\n\t\t\t\t\t<text class=\"register-text\">还没有账号？</text>\n\t\t\t\t\t<text class=\"register-link-text\" @click=\"goToRegister\">立即注册</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport { postReq } from '@/common/request.js'\nimport { URL } from '@/common/url.js'\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tstatusBarHeight: 0,\n\t\t\tisLogging: false,\n\t\t\tformData: {\n\t\t\t\tstudentId: '',\n\t\t\t\tpassword: ''\n\t\t\t},\n\t\t\terrors: {\n\t\t\t\tstudentId: '',\n\t\t\t\tpassword: ''\n\t\t\t}\n\t\t}\n\t},\n\tonLoad() {\n\t\tthis.getSystemInfo()\n\t},\n\tmethods: {\n\t\t// 获取系统信息\n\t\tgetSystemInfo() {\n\t\t\tconst systemInfo = uni.getSystemInfoSync()\n\t\t\tthis.statusBarHeight = systemInfo.statusBarHeight || 20\n\t\t},\n\t\t\n\t\t// 清除错误信息\n\t\tclearError(field) {\n\t\t\tif (this.errors[field]) {\n\t\t\t\tthis.errors[field] = ''\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 表单验证\n\t\tvalidateForm() {\n\t\t\tlet isValid = true\n\t\t\tthis.errors = {\n\t\t\t\tstudentId: '',\n\t\t\t\tpassword: ''\n\t\t\t}\n\t\t\t\n\t\t\t// 验证学籍号\n\t\t\tif (!this.formData.studentId.trim()) {\n\t\t\t\tthis.errors.studentId = '请输入学籍号'\n\t\t\t\tisValid = false\n\t\t\t} else if (this.formData.studentId.trim().length < 6) {\n\t\t\t\tthis.errors.studentId = '学籍号长度不能少于6位'\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t\t\n\t\t\t// 验证密码\n\t\t\tif (!this.formData.password.trim()) {\n\t\t\t\tthis.errors.password = '请输入密码'\n\t\t\t\tisValid = false\n\t\t\t} else if (this.formData.password.trim().length < 6) {\n\t\t\t\tthis.errors.password = '密码长度不能少于6位'\n\t\t\t\tisValid = false\n\t\t\t}\n\t\t\t\n\t\t\treturn isValid\n\t\t},\n\t\t\n\t\t// 处理登录\n\t\tasync handleLogin() {\n\t\t\tif (this.isLogging) return\n\t\t\t\n\t\t\t// 表单验证\n\t\t\tif (!this.validateForm()) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\t\n\t\t\tthis.isLogging = true\n\t\t\t\n\t\t\ttry {\n\t\t\t\t// 准备登录参数\n\t\t\t\tconst params = {\n\t\t\t\t\tstudentId: this.formData.studentId.trim(),\n\t\t\t\t\tpassword: this.formData.password.trim()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log('登录参数:', params)\n\t\t\t\t\n\t\t\t\t// 调用登录API\n\t\t\t\tconst response = await postReq(URL.apiPostStudentPasswordLogin, params)\n\t\t\t\tconsole.log('登录响应:', response)\n\t\t\t\t\n\t\t\t\t// 保存用户信息到本地存储\n\t\t\t\tif (response && response.data) {\n\t\t\t\t\tuni.setStorageSync('xiaotiyunUser', response.data)\n\t\t\t\t\t\n\t\t\t\t\t// 显示登录成功提示\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '登录成功',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 跳转到学生首页\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.reLaunch({\n\t\t\t\t\t\t\turl: '/pages/students/home/index'\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1500)\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error('登录失败，请检查账号密码')\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('登录失败:', error)\n\t\t\t\t\n\t\t\t\t// 显示错误提示\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: error.message || '登录失败，请检查网络连接',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t})\n\t\t\t} finally {\n\t\t\t\tthis.isLogging = false\n\t\t\t}\n\t\t},\n\t\t\n\t\t// 跳转到忘记密码页面\n\t\tgoToForgotPassword() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/students/forgotPassword/index'\n\t\t\t})\n\t\t},\n\t\t\n\t\t// 跳转到注册页面\n\t\tgoToRegister() {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '/pages/students/register/index'\n\t\t\t})\n\t\t}\n\t}\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.login-container {\n\tmin-height: 100vh;\n\tbackground: #FFFFFF;\n\tposition: relative;\n}\n\n.top-background {\n\tposition: relative;\n\twidth: 100%;\n\theight: 500rpx;\n\toverflow: hidden;\n}\n\n.background-image {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.status-bar {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tright: 0;\n\tz-index: 10;\n\twidth: 100%;\n}\n\n.login-form-container {\n\tposition: relative;\n\tz-index: 5;\n\tmargin-top: -200rpx;\n\tbackground: #FFFFFF;\n\tborder-radius: 32rpx 32rpx 0 0;\n\tpadding: 60rpx 64rpx 100rpx;\n\tmin-height: calc(100vh - 300rpx);\n}\n\n.logo-section {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tmargin-bottom: 80rpx;\n}\n\n.logo-image {\n\twidth: 120rpx;\n\theight: 120rpx;\n\tmargin-bottom: 24rpx;\n}\n\n.app-title {\n\tfont-size: 48rpx;\n\tfont-weight: 600;\n\tcolor: #2C84FF;\n}\n\n.login-form {\n\twidth: 100%;\n}\n\n.form-title {\n\tfont-size: 40rpx;\n\tfont-weight: 600;\n\tcolor: #333333;\n\ttext-align: center;\n\tmargin-bottom: 60rpx;\n}\n\n.input-group {\n\tmargin-bottom: 40rpx;\n}\n\n.input-label {\n\tfont-size: 28rpx;\n\tcolor: #666666;\n\tmargin-bottom: 16rpx;\n}\n\n.input-wrapper {\n\tposition: relative;\n}\n\n.input-field {\n\twidth: 100%;\n\theight: 88rpx;\n\tpadding: 0 24rpx;\n\tborder: 2rpx solid #E5E5E5;\n\tborder-radius: 16rpx;\n\tfont-size: 32rpx;\n\tcolor: #333333;\n\tbackground: #FFFFFF;\n\tbox-sizing: border-box;\n\ttransition: border-color 0.3s ease;\n}\n\n.input-field:focus {\n\tborder-color: #2C84FF;\n}\n\n.input-field.error {\n\tborder-color: #FF4757;\n}\n\n.error-message {\n\tfont-size: 24rpx;\n\tcolor: #FF4757;\n\tmargin-top: 8rpx;\n}\n\n.forgot-password {\n\ttext-align: right;\n\tmargin-bottom: 60rpx;\n}\n\n.forgot-text {\n\tfont-size: 28rpx;\n\tcolor: #2C84FF;\n}\n\n.login-button {\n\twidth: 100%;\n\theight: 88rpx;\n\tbackground: linear-gradient(135deg, #2C84FF 0%, #4A9EFF 100%);\n\tborder-radius: 16rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-bottom: 40rpx;\n\ttransition: opacity 0.3s ease;\n}\n\n.login-button.disabled {\n\topacity: 0.6;\n}\n\n.login-button-text {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #FFFFFF;\n}\n\n.register-link {\n\ttext-align: center;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tgap: 8rpx;\n}\n\n.register-text {\n\tfont-size: 28rpx;\n\tcolor: #999999;\n}\n\n.register-link-text {\n\tfont-size: 28rpx;\n\tcolor: #2C84FF;\n\tfont-weight: 500;\n}\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=a5c1aba4&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a5c1aba4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a5c1aba4\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/students/login/index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=a5c1aba4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=a5c1aba4&lang=scss&scoped=true&\""],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","render","_vm","this","_h","$createElement","_self","_c","staticRenderFns","_withStripped","recyclableRender","components","undefined","data","statusBarHeight","isLogging","formData","studentId","password","errors","onLoad","getSystemInfo","methods","systemInfo","uni","getSystemInfoSync","clearError","field","validateForm","isValid","trim","length","handleLogin","params","console","log","response","postReq","URL","apiPostStudentPasswordLogin","Error","setStorageSync","showToast","title","icon","setTimeout","reLaunch","url","error","message","goToForgotPassword","navigateTo","goToRegister","renderjs","component","options","__file"],"sourceRoot":""}