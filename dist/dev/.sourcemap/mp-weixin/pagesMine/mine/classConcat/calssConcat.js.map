{"version":3,"file":"pagesMine/mine/classConcat/calssConcat.js","mappings":"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","sources":["uni-app:///main.js","webpack:///./pagesMine/mine/classConcat/calssConcat.vue?ccbf","uni-app:///pagesMine/mine/classConcat/calssConcat.vue","webpack:///./pagesMine/mine/classConcat/calssConcat.vue?9f65","webpack:///./pagesMine/mine/classConcat/calssConcat.vue?a385","webpack:///./pagesMine/mine/classConcat/calssConcat.vue?7870"],"sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesMine/mine/classConcat/calssConcat.vue'\ncreatePage(Page)","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.zhezhaoShow ? _vm.$t(\"mine.mine.classConcat.readyChecked\") : null\n  var g0 = _vm.zhezhaoShow ? _vm.newClassList.length : null\n  var m1 = _vm.zhezhaoShow ? _vm.$t(\"common.one\") : null\n  var m2 = _vm.zhezhaoShow ? _vm.$t(\"common.classText\") : null\n  var m3 = _vm.zhezhaoShow ? _vm.$t(\"common.enter\") : null\n  var m4 = _vm.$t(\"mine.mine.classConcat.readyChecked\")\n  var g1 = _vm.newClassList.length\n  var m5 = _vm.$t(\"common.one\")\n  var m6 = _vm.$t(\"common.classText\")\n  var m7 = _vm.$t(\"mine.mine.classConcat.enter\")\n  var g2 = _vm.newClassList.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.zhezhaoShow = false\n    }\n    _vm.e1 = function ($event) {\n      _vm.zhezhaoShow = true\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n        m1: m1,\n        m2: m2,\n        m3: m3,\n        m4: m4,\n        g1: g1,\n        m5: m5,\n        m6: m6,\n        m7: m7,\n        g2: g2,\n      },\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nvar recyclableRender = (typeof recyclableRender === 'undefined') ? false : recyclableRender;\nvar components = (typeof components === 'undefined') ? undefined : components;\n\nexport { render, staticRenderFns, recyclableRender, components }","<template>\n\t<view class=\"maxBox\">\n\t\t<!-- <view class=\"checkAll\">全选</view> -->\n\t\t<view class=\"zhezhao\">\n\t\t\t<u-mask :show=\"zhezhaoShow\" @click=\"nonezhezhao\"></u-mask>\n\t\t\t<scroll-view scroll-y=\"true\" class=\"zhezhaoBox\" v-if=\"zhezhaoShow\">\n\t\t\t\t<view class=\"checkedTit\">{{$t('mine.mine.classConcat.readyChecked')}}<text style=\"color: #5C8FF7;\">{{newClassList.length}}</text>{{$t('common.one')}}{{$t('common.classText')}} <text style=\"color: #5C8FF7;float: right;\" @click=\"zhezhaoShow = false\">{{$t('common.enter')}}</text></view>\n\t\t\t\t<view v-for=\"(item,index) in newClassList\" class=\"checkedItem\" :key=\"index\">\n\t\t\t\t\t{{item.className}}\n\t\t\t\t\t<view class=\"yichu\" @click=\"yichuItem(item, index)\">\n\t\t\t\t\t\t移除\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t\t<!-- 选全部 大全选 -->\n\t\t<view class=\"checkAll\">\n\t\t\t<u-checkbox\n\t\t\t\t@change=\"checkboxChangeAll\" \n\t\t\t\tv-model=\"allChecked\"\n\t\t\t\t:disabled=\"allDisabled\"\n\t\t\t>{{allChooseText}}</u-checkbox>\n\t\t</view>\n\t\t<!-- 单个年级全选 -->\n\t\t<view class=\"checkItem\">\n\t\t\t<u-checkbox class=\"checkDropBox\"\n\t\t\t\t@change=\"checkboxChange\" \n\t\t\t\tv-model=\"item.checked\" \n\t\t\t\tv-for=\"(item, index) in list\" :key=\"index\" \n\t\t\t\t:name=\"item.gradeName\"\n\t\t\t\t:disabled=\"item.disabled\"\n\t\t\t>{{item.gradeName}}\n\t\t\t\t<!-- 选单个班级 -->\n\t\t\t\t<view class=\"checkItemClick\"  @tap.stop=\"goSpread(item)\"> <!-- 展开年级点击区域 -->\n\t\t\t\t\t<view v-if=\"item.spread\">\n\t\t\t\t\t\t<text class=\"checkItemText\">收起</text>\n\t\t\t\t\t\t<image src=\"../../static/images/jtbz.png\" mode=\"\" class=\"checkItemImg\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view v-else>\n\t\t\t\t\t\t<text class=\"checkItemText\">{{showText}}</text>\n\t\t\t\t\t\t<image src=\"../../static/images/jtbz2.png\" mode=\"\" class=\"checkItemImg\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- <image v-if=\"item.spread\" @tap.stop=\"goSpread(item)\" src=\"../../../static/images/jtbz.png\" mode=\"\" class=\"checkItemImg\"></image>\n\t\t\t\t<image v-else @tap.stop=\"goSpread(item)\" src=\"../../../static/images/jtbz2.png\" mode=\"\" class=\"checkItemImg\"></image> -->\n\t\t\t\t<view @tap.stop=\"checkedOne\" v-show=\"item.spread\">\n\t\t\t\t\t<u-checkbox class=\"checkDrop\"\n\t\t\t\t\t\t@change=\"checkboxChangeItem\" \n\t\t\t\t\t\tv-model=\"itembody.checked\" \n\t\t\t\t\t\tv-for=\"(itembody, i) in item.classList\" :key=\"i\" \n\t\t\t\t\t\t:disabled=\"itembody.teacherId\"\n\t\t\t\t\t\t:name=\"item.grade\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{itembody.aliasClassName ? itembody.aliasClassName : itembody.className}}\n\t\t\t\t\t\t<text style=\"color: #5C8FF7;margin-left: 30upx;\">\n\t\t\t\t\t\t\t{{itembody.teacherName ? `(${teacherOldText}: ${itembody.teacherName})` : ''}}\n\t\t\t\t\t\t</text>\n\t\t\t\t\t</u-checkbox>\n\t\t\t\t</view>\n\t\t\t</u-checkbox>\n\t\t\t<!-- \t\t<u-checkbox \n\t\t\t\t\t\t@change=\"checkboxChange\" \n\t\t\t\t\t\tv-model=\"item.checked\" \n\t\t\t\t\t\tv-for=\"(item, i) in list\" :key=\"i\" \n\t\t\t\t\t\t:name=\"item.name\"\n\t\t\t\t\t>{{item.name}}</u-checkbox> -->\n\t\t</view>\n\t\t<view class=\"dibu\" @click=\"zhezhaoShow = true\">\n\t\t\t<view class=\"textNum\">\n\t\t\t\t{{$t('mine.mine.classConcat.readyChecked')}}{{newClassList.length}}{{$t('common.one')}}{{$t('common.classText')}}\n\t\t\t</view>\n\t\t\t<button type=\"primary\" class=\"submit-btn\" @click.stop=\"bandClass\">{{$t('mine.mine.classConcat.enter')}} ({{newClassList.length}}/{{classCount}})</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\timport {\n\t\tmapState,\n\t\tmapMutations,\n\t\tmapActions\n\t} from 'vuex'\n\timport {getReq,postReq} from \"../../../common/request.js\";\n\timport {URL} from \"../../../common/url.js\";\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tallList: [{name:this.$t('mine.mine.classConcat.allChoose'),checked: false}],\n\t\t\t\tallChecked: false,\n\t\t\t\tallDisabled: false,\n\t\t\t    list:[],\n\t\t\t\tnewClass: [],\n\t\t\t\tnewClassList: [],\n\t\t\t\tclassCount: 0,\n\t\t\t\tzhezhaoShow: false,\n\t\t\t\t\n\t\t\t\t// 国际化\n\t\t\t\tteacherOldText: this.$t('common.teacherOld'),\n\t\t\t\tallChooseText: this.$t('common.allChoose'),\n\t\t\t\tshowText: this.$t('mine.mine.classConcat.show')\n\t\t\t};\n\t\t},\n\t\tonShow() {\n\t\t},\n\t\tonLoad() {\n\t\t\tuni.setNavigationBarTitle({\n\t\t\t\ttitle: this.$t('mine.mine.classManage.bindNewManageClass')\n\t\t\t})\n\t\t\tthis.getList()\n\t\t},\n\t\tcomputed:{\n\t\t\t...mapState(['xiaotiyunUser'])\n\t\t},\n\t\tcreated() {\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations(['setXiaotiyunUser']),\n\t\t\tnonezhezhao() {\n\t\t\t\tthis.zhezhaoShow = false\n\t\t\t},\n\t\t\t// 选择后修改数据\n\t\t\teditState() {\n\t\t\t\tlet classLists = []\n\t\t\t\tthis.newClass = []\n\t\t\t\tthis.newClassList = []\n\t\t\t\tfor(let i = 0;i<this.list.length;i++) {\n\t\t\t\t\tclassLists = classLists.concat(this.list[i].classList || [])\n\t\t\t\t}\n\t\t\t\tfor(let j = 0;j<classLists.length;j++) {\n\t\t\t\t\tif(classLists[j].checked) {\n\t\t\t\t\t\tthis.newClass.push(classLists[j].classId)\n\t\t\t\t\t\tthis.newClassList.push(classLists[j])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.allChecked = this.newClassList.length == classLists.filter(item => {return item.teacherId == null}).length;\n\t\t\t},\n\t\t\t// 获取所有班级列表\n\t\t\tgetList(){\n\t\t\t\tconsole.log(this.xiaotiyunUser)\n\t\t\t\tlet _this = this;\n\t\t\t\tlet params = {\n\t\t\t\t\tschoolId: _this.xiaotiyunUser.teacher.schoolId\n\t\t\t\t}\n\t\t\t\tgetReq(URL.glClassList,params).then(res => {\n\t\t\t\t\tif(res.error == 10000){\n\t\t\t\t\t\tif(res.data){\n\t\t\t\t\t\t\tthis.list = res.data.map(function(item){\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\t\tchecked: false,\n\t\t\t\t\t\t\t\t\t// 是否展开\n\t\t\t\t\t\t\t\t\tspread: false,\n\t\t\t\t\t\t\t\t\tdisabled: item.classList.filter(cla => {return cla.teacherId == null}).length == 0,\n\t\t\t\t\t\t\t\t\tclassList: (item.classList || []).map(function(items){\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\t...items,\n\t\t\t\t\t\t\t\t\t\t\tchecked: false\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tthis.allDisabled = this.list.filter(item => {return !item.disabled}).length == 0;\n\t\t\t\t\t\t\t//年级总班数\n\t\t\t\t\t\t\tthis.classCount = 0\n\t\t\t\t\t\t\tfor(let i = 0;i<this.list.length;i++) {\n\t\t\t\t\t\t\t\tthis.classCount += this.list[i].classCount\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// _this.school = res.data;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthis.list = [];\n\t\t\t\t\t\t\tthis.classCount = 0\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.message,\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t// 单个全选\n\t\t\tcheckboxChange(e){\n\t\t\t\t// console.log(e.name.classList.some(someItem => { \n\t\t\t\t// \tif(!someItem.teacherId){return false}\n\t\t\t\t// }))\n\t\t\t\tfor(let i = 0;i<this.list.length;i++) {\n\t\t\t\t\tif(e.name == this.list[i].gradeName) {\n\t\t\t\t\t\tthis.list[i].classList = (this.list[i].classList || []).map(function(item){\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\t\tchecked: item.teacherId ? false : e.value,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.editState()\n\t\t\t},\n\t\t\t// 选单个\n\t\t\tcheckboxChangeItem(e) {\n\t\t\t\t// console.log(e,'啦啦啦')\n\t\t\t\t// this.list = this.list.map(function(item){\n\t\t\t\t// \treturn {\n\t\t\t\t// \t\t...item,\n\t\t\t\t// \t\t// checked: e.value && item.grade == e.name ? e.value : item.checked\n\t\t\t\t// \t\tchecked: function(){\n\t\t\t\t// \t\t\tlet checkState\n\t\t\t\t// \t\t\tfor(let i = 0;i<item.classList.length;i++) {\n\t\t\t\t// \t\t\t\tif (item.classList[i].teacherId) {\n\t\t\t\t// \t\t\t\t\tif(!item.classList[i].checked) {\n\t\t\t\t// \t\t\t\t\t\tcheckState = false\n\t\t\t\t// \t\t\t\t\t} else {\n\t\t\t\t// \t\t\t\t\t\tcheckState = true\n\t\t\t\t// \t\t\t\t\t}\n\t\t\t\t// \t\t\t\t}\n\t\t\t\t// \t\t\t}\n\t\t\t\t// \t\t\tconsole.log(item,33)\n\t\t\t\t// \t\t\treturn checkState\n\t\t\t\t// \t\t}()\n\t\t\t\t// \t}\n\t\t\t\t// })\n\t\t\t\tlet classLists = []\n\t\t\t\tthis.newClass = []\n\t\t\t\tthis.newClassList = []\n\t\t\t\tthis.list.forEach(item => {\n\t\t\t\t\tclassLists = classLists.concat(item.classList);\n\t\t\t\t\titem.checked = item.classList.filter(cla => {return cla.checked && cla.teacherId == null}).length == item.classList.filter(cla => {return cla.teacherId == null}).length;\n\t\t\t\t})\n\t\t\t\tthis.newClassList = classLists.filter(item => {return item.checked});\n\t\t\t\tthis.newClass = classLists.filter(item => item.checked).map(current => {return current.calssId});\n\t\t\t\tthis.allChecked = this.newClassList.length == classLists.filter(item => {return item.teacherId == null}).length;\n\t\t\t},\n\t\t\t// 大全选\n\t\t\tcheckboxChangeAll(e) {\n\t\t\t\tthis.list = (this.list || []).map(function(item){\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tchecked: e.value,\n\t\t\t\t\t\tclassList: (item.classList || []).map(function(items){\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...items,\n\t\t\t\t\t\t\t\tchecked: items.teacherId ? false : e.value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.editState()\n\t\t\t},\n\t\t\t// 点击选单个\n\t\t\tcheckedOne() {\n\t\t\t\tconsole.log(1)\n\t\t\t\tthis.checkboxChangeItem();\n\t\t\t},\n\t\t\t// 移除已选班级\n\t\t\tyichuItem(value, index) {\n\t\t\t\tconsole.log(value, 555)\n\t\t\t\tthis.list = (this.list || []).map(function(item){\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\t// checked: e.value,\n\t\t\t\t\t\tclassList: (item.classList || []).map(function(items){\n\t\t\t\t\t\t\tconsole.log(items.classId, value.classId, 4444)\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...items,\n\t\t\t\t\t\t\t\tchecked: (items.classId == value.classId) ? false : items.checked,\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.newClassList.splice(index, 1)\n\t\t\t},\n\t\t\t// 是否展开\n\t\t\tgoSpread(value) {\n\t\t\t\tfor(let i = 0;i<this.list.length;i++) {\n\t\t\t\t\tif(this.list[i].grade == value.grade) {\n\t\t\t\t\t\tthis.list[i].spread = !this.list[i].spread\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 绑定班级\n\t\t\tbandClass() { \n\t\t\t\tthis.editState()\n\t\t\t\tif(this.newClass.length == 0){\n\t\t\t\t\treturn uni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: '请选择班级',\n\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tlet params = {\n\t\t\t\t\tclassIdList: this.newClass\n\t\t\t\t}\n\t\t\t\tpostReq(URL.relationClass,params).then(res => {\n\t\t\t\t\tif(res.error == 10000){\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\ttitle: \"绑定成功\",\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t})\n\t\t\t\t\t\tlet xiaotiyunUser = {\n\t\t\t\t\t\t\tteacher: {\n\t\t\t\t\t\t\t\t...this.xiaotiyunUser.teacher,\n\t\t\t\t\t\t\t\tbandClass: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// this.xiaotiyunUser.teacher.bindClass = true\n\t\t\t\t\t\tthis.setXiaotiyunUser(xiaotiyunUser);\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\tdelta: 1\n\t\t\t\t\t\t})\n\t\t\t\t\t}else{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\ttitle: res.message,\n\t\t\t\t\t\t\tduration: 1000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"less\">\n.maxBox{\n\twidth: 750upx;\n\tpadding: 16upx 32upx 200upx;\n\tfont-size: 28upx;\n\tbox-sizing: border-box;\n\t.zhezhaoBox {\n\t\twidth: 750upx;\n\t\theight: 704upx;\n\t\tz-index: 11000;\n\t\tbackground: #FFFFFF;\n\t\tposition: fixed;\n\t\tleft: 0;\n\t\tbottom: 0;\n\t\tfont-size: 32upx;\n\t\t.checkedTit {\n\t\t\tpadding: 0 32upx;\n\t\t\theight: 104upx;\n\t\t\tline-height: 104upx;\n\t\t\t// width: 750upx;\n\t\t\tcolor: #707070;\n\t\t}\n\t\t.checkedItem {\n\t\t\tpadding: 0 32upx;\n\t\t\theight: 88upx;\n\t\t\tline-height: 88upx;\n\t\t\t.yichu {\n\t\t\t\twidth: 112upx;\n\t\t\t\theight: 48upx;\n\t\t\t\tbackground: #FFFFFF;\n\t\t\t\tborder-radius: 8upx;\n\t\t\t\tborder: 1upx solid #707070;\n\t\t\t\ttext-align: center;\n\t\t\t\tline-height: 48upx;\n\t\t\t\tfont-size: 24upx;\n\t\t\t\tfloat: right;\n\t\t\t\tmargin-top: 20upx;\n\t\t\t}\n\t\t}\n\t}\n\t.checkAll {\n\t\tline-height: 88upx;\n\t\theight: 88upx;\n\t\twidth: 686upx;\n\t\tborder-bottom: 1upx solid #E6E6E6;\n\t}\n\t.checkItem {\n\t\t.checkDropBox {\n\t\t\tdisplay: block;\n\t\t\t// min-height: 88upx;\n\t\t\twidth: 686upx;\n\t\t\tborder-bottom: 1upx solid #E6E6E6;\n\t\t\ttext-align: left;\n\t\t\tline-height: 88upx;\n\t\t\t// padding-left: 44upx;\n\t\t\t// text-indent: 44upx;\n\t\t\tbox-sizing: border-box;\n\t\t\tposition: relative;\n\t\t\t::v-deep .u-checkbox__icon-wrap--checked{\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 28upx;\n\t\t\t}\n\t\t\t::v-deep .u-checkbox__icon-wrap{\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 0;\n\t\t\t\ttop: 28upx;\n\t\t\t}\n\t\t\t::v-deep .u-checkbox__label {\n\t\t\t\tmargin-left: 54upx;\n\t\t\t}\n\t\t\t.checkItemClick {\n\t\t\t\twidth: 130upx;\n\t\t\t\theight: 88upx;\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tright: 0;\n\t\t\t\t.checkItemText {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0upx;\n\t\t\t\t\tright: 64upx;\n\t\t\t\t\twidth: 80upx;\n\t\t\t\t\theight: 88upx;\n\t\t\t\t\tline-height: 88upx;\n\t\t\t\t\ttext-align: right;\n\t\t\t\t}\n\t\t\t\t.checkItemImg {\n\t\t\t\t\twidth: 25upx;\n\t\t\t\t\theight: 24upx;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 32upx;\n\t\t\t\t\tright: 32upx;\n\t\t\t\t\t// z-index: 9999;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.checkDrop {\n\t\t\t\tdisplay: block;\n\t\t\t\theight: 88upx;\n\t\t\t\twidth: 686upx;\n\t\t\t\tborder-bottom: 1upx solid #E6E6E6;\n\t\t\t\ttext-align: left;\n\t\t\t\tline-height: 88upx;\n\t\t\t\tpadding-left: 44upx;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\t::v-deep .u-checkbox__icon-wrap--checked{\n\t\t\t\t\tposition: static;\n\t\t\t\t}\n\t\t\t\t::v-deep .u-checkbox__icon-wrap{\n\t\t\t\t\tposition: static;\n\t\t\t\t}\n\t\t\t\t::v-deep .u-checkbox__label {\n\t\t\t\t\tpadding-left: 0;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// .checkDrop {\n\t\t// \tdisplay: block;\n\t\t// \theight: 88upx;\n\t\t// \twidth: 686upx;\n\t\t// \tborder-bottom: 1upx solid #E6E6E6;\n\t\t// \ttext-align: left;\n\t\t// \tline-height: 88upx;\n\t\t// \tpadding-left: 44upx;\n\t\t// \tbox-sizing: border-box;\n\t\t// }\n\t}\n\t.dibu {\n\t\twidth: 750upx;\n\t\theight: 120upx;\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tbackground: #FFFFFF;\n\t\tmargin-bottom: 30upx;\n\t\tz-index: 10000;\n\t\t.textNum {\n\t\t\tfloat: left;\n\t\t\tline-height: 120upx;\n\t\t\tmargin-left: 32upx;\n\t\t\tfont-size: 28upx;\n\t\t\tfont-weight: 400;\n\t\t\tcolor: #707070;\n\t\t}\n\t\t.submit-btn {\n\t\t\twidth: 376upx;\n\t\t\theight: 80upx;\n\t\t\tline-height: 80upx;\n\t\t\tbackground: #5C8FF7;\n\t\t\tborder-radius: 44upx;\n\t\t\tfloat: right;\n\t\t\tmargin-right: 32upx;\n\t\t\tmargin-top: 20upx;\n\t\t}\n\t}\n}\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./calssConcat.vue?vue&type=template&id=c61f5dae&\"\nvar renderjs\nimport script from \"./calssConcat.vue?vue&type=script&lang=js&\"\nexport * from \"./calssConcat.vue?vue&type=script&lang=js&\"\nimport style0 from \"./calssConcat.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesMine/mine/classConcat/calssConcat.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calssConcat.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calssConcat.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-32[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[3]!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calssConcat.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-32[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[3]!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./calssConcat.vue?vue&type=style&index=0&lang=less&\""],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","render","_vm","this","_h","$createElement","m0","_self","_c","zhezhaoShow","$t","g0","newClassList","length","m1","m2","m3","m4","g1","m5","m6","m7","g2","_isMounted","e0","$event","e1","$mp","data","Object","assign","$root","staticRenderFns","_withStripped","recyclableRender","components","undefined","allList","name","checked","allChecked","allDisabled","list","newClass","classCount","teacherOldText","allChooseText","showText","onShow","onLoad","uni","setNavigationBarTitle","title","getList","computed","mapState","created","methods","mapMutations","nonezhezhao","editState","classLists","i","concat","classList","j","push","classId","filter","item","teacherId","console","log","xiaotiyunUser","_this","params","schoolId","teacher","getReq","URL","glClassList","then","res","error","map","spread","disabled","cla","items","showToast","icon","message","duration","checkboxChange","e","gradeName","value","checkboxChangeItem","forEach","current","calssId","checkboxChangeAll","checkedOne","yichuItem","index","splice","goSpread","grade","bandClass","classIdList","postReq","relationClass","setXiaotiyunUser","navigateBack","delta","renderjs","component","options","__file"],"sourceRoot":""}