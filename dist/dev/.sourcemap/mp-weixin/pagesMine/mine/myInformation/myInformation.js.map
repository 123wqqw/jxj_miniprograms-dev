{"version":3,"file":"pagesMine/mine/myInformation/myInformation.js","mappings":";;;umBAEAA,EAAGC,kCAAoCC,EAGvCC,EAAWC,EAAAA,W;;;ivBCLX,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GACVN,EAAIO,GAAG,mCACZC,EAAKR,EAAIO,GAAG,kCAChBP,EAAIS,IAAIC,KAAOC,OAAOC,OACpB,CAAC,EACD,CACEC,MAAO,CACLT,GAAIA,EACJI,GAAIA,IAIZ,EACIM,EAAkB,GACtBf,EAAOgB,eAAgB,EAEvB,IAAIC,EAAgD,qBAArBA,GAA4CA,EACvEC,EAAoC,qBAAfA,OAA8BC,EAAYD,C;;;s4BCenE,SACAP,IAAAA,GACA,OACAS,OAAA,GACAC,OAAA,KACAC,UAAA,GAEAC,OAAA,KAAAf,GAAA,kCACAgB,gBAAA,KAAAhB,GAAA,2CACAiB,mBAAA,KAAAjB,GAAA,8CACAkB,oBAAA,KAAAlB,GAAA,+CACAmB,WAAA,KAAAnB,GAAA,sCACAoB,YAAA,KAAApB,GAAA,uCACAqB,UAAA,KAAArB,GAAA,qCACAsB,aAAA,KAAAtB,GAAA,sCACAuB,YAAA,KAAAvB,GAAA,qCAEA,EAEAwB,SAAA,KACAC,EAAAA,EAAAA,UAAA,oBAGAC,MAAAA,CAAAC,GACA,KAAAd,OAAA,KAAAe,cAAAC,QAAAhB,OACA,KAAAC,UAAA,KAAAc,cAAAC,QAAAC,kBAEA,IAAAC,EAAA,KACA,MAAAC,EAAAD,EAAAE,wBAEAD,EAAAE,GAAA,oCAAA/B,GACA4B,EAAAnB,OAAAT,CACA,GAEAgC,EAAAC,IAAA,4BACAL,EAAAM,kBAEA,EAEAC,QAAAA,GACAH,EAAAI,KAAA,uBACA,EAEAC,QAAA,KACAC,EAAAA,EAAAA,cAAA,8BAEAC,gBAAAA,CAAAC,GACA,IAAAZ,EAAA,MACAa,EAAAA,EAAAA,SAAAC,EAAAA,IAAAC,mBAAA,CACAjC,OAAA8B,IACAI,KAAAC,IACA,QAAAA,EAAAC,MAAA,CACAd,EAAAe,UAAA,CACAC,KAAA,OACAC,MAAArB,EAAAX,YACAiC,SAAA,MAEA,IAAAzB,EAAA,CACAC,QAAA,IACA,KAAAD,cAAAC,QACAhB,OAAA8B,IAGA,KAAAW,iBAAA1B,GAEA,MAAA2B,EAAA,CACAC,UAAAb,EACA,yEACA,2EACAc,SAAA,GACAC,KAAA,IAEA,KAAAC,MAAAJ,GACApB,EAAAyB,eAAA,WAAAL,GAEAxB,EAAAnB,OAAA,IACAmB,EAAAnB,OACA4C,UAAAD,EAAAC,UAEA,MACArB,EAAAe,UAAA,CACAC,KAAA,OACAC,MAAArB,EAAAZ,WACAkC,SAAA,OAIA,EAGAhB,cAAAA,IACAwB,EAAAA,EAAAA,QAAAhB,EAAAA,IAAAR,gBAAAU,KAAAC,IACA,GAAAA,EAAA7C,MAAA,OAAA2D,KAAAC,UAAAf,EAAA7C,MAAA,CACA,MAAAyB,EAAA,CACAC,QAAA,IACA,KAAAD,cAAAC,QACAmC,WAAAhB,EAAA7C,KAAA6D,WACAlC,kBAAAkB,EAAA7C,KAAA2B,oBAGA,KAAAwB,iBAAA1B,EACA,GAEA,EAGAqC,kBAAAA,CAAAC,GACA/B,EAAAgC,WAAA,CACAC,IAAA,6CAEA,G;;;;;;qHChJIC,E,qoBAQAC,GAAY,gBACd,aACA,EAAA9E,OACA,EAAAe,iBACA,EACA,KACA,KACA,MACA,EACA,EAAAG,WACA2D,GAGFC,EAAU3C,QAAQ4C,OAAS,iDAC3B,QAAeD,E;;;ioCCvB2f,QAAe,Y;;;+mECA8c,QAAe,G","sources":["uni-app:///main.js","webpack:///./pagesMine/mine/myInformation/myInformation.vue?00a7","uni-app:///pagesMine/mine/myInformation/myInformation.vue","webpack:///./pagesMine/mine/myInformation/myInformation.vue?b46b","webpack:///./pagesMine/mine/myInformation/myInformation.vue?2038","webpack:///./pagesMine/mine/myInformation/myInformation.vue?d2ed"],"sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesMine/mine/myInformation/myInformation.vue'\ncreatePage(Page)","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.$t(\"mine.mine.myInformation.avatar\")\n  var m1 = _vm.$t(\"mine.mine.myInformation.school\")\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nvar recyclableRender = (typeof recyclableRender === 'undefined') ? false : recyclableRender;\nvar components = (typeof components === 'undefined') ? undefined : components;\n\nexport { render, staticRenderFns, recyclableRender, components }","<template>\r\n\t<view class=\"information-container\">\r\n\t\t<u-cell-group>\r\n\t\t\t<u-cell-item :arrow=\"false\">\r\n\t\t\t\t<text slot=\"title\">我的{{ $t('mine.mine.myInformation.avatar') }}</text>\r\n\t\t\t\t<u-avatar :src=\"myInfo.avatarUrl\" size=\"120\"></u-avatar>\r\n\t\t\t</u-cell-item>\r\n\t\t\t<u-cell-item :arrow=\"false\" title=\"姓名\" :value=\"myInfo.name\" />\r\n\t\t\t<u-cell-item :arrow=\"false\" :value=\"myInfo.commonText\">\r\n\t\t\t\t<text slot=\"title\">{{$t('mine.mine.myInformation.school')}}</text>\r\n\t\t\t</u-cell-item>\r\n\t\t\t<u-cell-item :arrow=\"false\" title=\"性别\">\r\n\t\t\t\t<u-radio-group slot=\"right-icon\" v-model=\"gender\" @change=\"radioGroupChange\">\r\n\t\t\t\t\t<u-radio :name=\"0\">女</u-radio>\r\n\t\t\t\t\t<u-radio :name=\"1\">男</u-radio>\r\n\t\t\t\t</u-radio-group>\r\n\t\t\t</u-cell-item>\r\n\t\t\t<u-cell-item :arrow=\"false\" :title=\"facePhoto\">\r\n\t\t\t\t<view class=\"capture-btn\" hover-class=\"active\" @click=\"clickFacialCapture(item)\"\r\n\t\t\t\t\tv-if=\"faceModel.modelStatus == null || (faceModel.modelStatus == 0 && !faceModel.faceUrl)\">\r\n\t\t\t\t\t<text>{{facialUpload}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"capture-btn\" hover-class=\"active\" v-else @click=\"clickFacialCapture(item)\">\r\n\t\t\t\t\t<text>{{againUpload}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</u-cell-item>\r\n\t\t</u-cell-group>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { mapState, mapMutations } from 'vuex';\r\n\timport { postReq, getReq } from \"../../../common/request.js\";\r\n\timport { URL } from \"../../../common/url.js\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmyInfo: {},\r\n\t\t\t\tgender: null,\r\n\t\t\t\tfaceModel: {},\r\n\t\t\t\t// 国际化\r\n\t\t\t\tavatar: this.$t('mine.mine.myInformation.avatar'),\r\n\t\t\t\tuploadImgFailed: this.$t('mine.mine.myInformation.uploadImgFailed'),\r\n\t\t\t\tchangeAvatarFailed: this.$t('mine.mine.myInformation.changeAvatarFailed'),\r\n\t\t\t\tchangeAvatarSuccess: this.$t('mine.mine.myInformation.changeAvatarSuccess'),\r\n\t\t\t\teditFailed: this.$t('mine.mine.myInformation.editFailed'),\r\n\t\t\t\teditSuccess: this.$t('mine.mine.myInformation.editSuccess'),\r\n\t\t\t\tfacePhoto: this.$t('mine.mine.myInformation.facePhoto'),\r\n\t\t\t\tfacialUpload: this.$t('mine.mine.classManage.facialUpload'),\r\n\t\t\t\tagainUpload: this.$t('mine.mine.classManage.againUpload'),\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['xiaotiyunUser'])\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\tthis.gender = this.xiaotiyunUser.teacher.gender;\r\n\t\t\tthis.faceModel = this.xiaotiyunUser.teacher.faceModelStatusVO;\r\n\r\n\t\t\tlet _this = this;\r\n\t\t\tconst eventChannel = _this.getOpenerEventChannel();\r\n\t\t\t// 监听acceptDataFromOpenerPage事件，获取上一页面通过eventChannel传送到当前页面的数据\r\n\t\t\teventChannel.on('acceptDataFromOpenerPage', function(data) {\r\n\t\t\t\t_this.myInfo = data;\r\n\t\t\t});\r\n\r\n\t\t\tuni.$on(\"myInformationChanged\", () => {\r\n\t\t\t\t_this.getTeacherInfo();\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\tonUnload() {\r\n\t\t\tuni.$off(\"myInformationChanged\");\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['setXiaotiyunUser', 'login']),\r\n\r\n\t\t\tradioGroupChange(value) {\r\n\t\t\t\tlet _this = this;\r\n\t\t\t\tpostReq(URL.teachersUpdateInfo, {\r\n\t\t\t\t\tgender: value\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.error == 10000) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: _this.editSuccess,\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tlet xiaotiyunUser = {\r\n\t\t\t\t\t\t\tteacher: {\r\n\t\t\t\t\t\t\t\t...this.xiaotiyunUser.teacher,\r\n\t\t\t\t\t\t\t\tgender: value\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.setXiaotiyunUser(xiaotiyunUser);\r\n\r\n\t\t\t\t\t\tconst userInfo = {\r\n\t\t\t\t\t\t\tavatarUrl: value ?\r\n\t\t\t\t\t\t\t\t'https://h5.gxapp.iydsj.com/xty/miniApps/images/md_icon_teacherMale.png' :\r\n\t\t\t\t\t\t\t\t\"https://h5.gxapp.iydsj.com/xty/miniApps/images/md_icon_teacherFemale.png\",\r\n\t\t\t\t\t\t\tnickName: \"\",\r\n\t\t\t\t\t\t\tcity: \"\",\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.login(userInfo);\r\n\t\t\t\t\t\tuni.setStorageSync(\"userInfo\", userInfo);\r\n\r\n\t\t\t\t\t\t_this.myInfo = {\r\n\t\t\t\t\t\t\t..._this.myInfo,\r\n\t\t\t\t\t\t\tavatarUrl: userInfo.avatarUrl\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\ttitle: _this.editFailed,\r\n\t\t\t\t\t\t\tduration: 1000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取教师信息\r\n\t\t\tgetTeacherInfo() {\r\n\t\t\t\tgetReq(URL.getTeacherInfo).then(res => {\r\n\t\t\t\t\tif (res.data && JSON.stringify(res.data) !== '{}') {\r\n\t\t\t\t\t\tconst xiaotiyunUser = {\r\n\t\t\t\t\t\t\tteacher: {\r\n\t\t\t\t\t\t\t\t...this.xiaotiyunUser.teacher,\r\n\t\t\t\t\t\t\t\tschoolName: res.data.schoolName,\r\n\t\t\t\t\t\t\t\tfaceModelStatusVO: res.data.faceModelStatusVO\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthis.setXiaotiyunUser(xiaotiyunUser);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 点击人脸录入按钮\r\n\t\t\tclickFacialCapture(item) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pagesMine/mine/facialSelfie/facialSelfie'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"less\" lang=\"scss\">\r\n\t.information-container {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.capture-btn {\r\n\t\twidth: 160rpx;\r\n\t\theight: 60rpx;\r\n\t\tmargin-left: auto;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #678DEF;\r\n\t\tbackground-color: #658DEF1A;\r\n\t\tborder-radius: 8rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.active {\r\n\t\tbackground-color: #678DEF;\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n</style>","import { render, staticRenderFns, recyclableRender, components } from \"./myInformation.vue?vue&type=template&id=433b8aca&\"\nvar renderjs\nimport script from \"./myInformation.vue?vue&type=script&lang=js&\"\nexport * from \"./myInformation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myInformation.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesMine/mine/myInformation/myInformation.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myInformation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myInformation.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myInformation.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./myInformation.vue?vue&type=style&index=0&lang=scss&\""],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","render","_vm","this","_h","$createElement","m0","_self","_c","$t","m1","$mp","data","Object","assign","$root","staticRenderFns","_withStripped","recyclableRender","components","undefined","myInfo","gender","faceModel","avatar","uploadImgFailed","changeAvatarFailed","changeAvatarSuccess","editFailed","editSuccess","facePhoto","facialUpload","againUpload","computed","mapState","onLoad","options","xiaotiyunUser","teacher","faceModelStatusVO","_this","eventChannel","getOpenerEventChannel","on","uni","$on","getTeacherInfo","onUnload","$off","methods","mapMutations","radioGroupChange","value","postReq","URL","teachersUpdateInfo","then","res","error","showToast","icon","title","duration","setXiaotiyunUser","userInfo","avatarUrl","nickName","city","login","setStorageSync","getReq","JSON","stringify","schoolName","clickFacialCapture","item","navigateTo","url","renderjs","component","__file"],"sourceRoot":""}