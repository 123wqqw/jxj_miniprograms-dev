{"version":3,"file":"pagesPlan/classPlan/coursewareSet/index.js","mappings":"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","sources":["uni-app:///main.js","webpack:///./pagesPlan/classPlan/coursewareSet/index.vue?87a9","uni-app:///pagesPlan/classPlan/coursewareSet/index.vue","webpack:///./pagesPlan/classPlan/coursewareSet/index.vue?fafc","webpack:///./pagesPlan/classPlan/coursewareSet/index.vue?294d","webpack:///./pagesPlan/classPlan/coursewareSet/index.vue?85e3"],"sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesPlan/classPlan/coursewareSet/index.vue'\ncreatePage(Page)","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.sportDayData && _vm.sportDayData.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.show = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.show = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nvar recyclableRender = (typeof recyclableRender === 'undefined') ? false : recyclableRender;\nvar components = (typeof components === 'undefined') ? undefined : components;\n\nexport { render, staticRenderFns, recyclableRender, components }","<template>\n\t<view class=\"basic-container\">\n\t\t<classInfo :dataSource=\"classInfo\" :classId=\"classInfo.classSerialNumber || ''\" />\n\t\t<u-gap height=\"30\" bg-color=\"#F4F4F4\"></u-gap>\n\t\t<!-- 切换改善方案 后续要用 先隐藏 -->\n\t\t<!-- <schemeItem :dataSource=\"courseInfo\" @click=\"jumpPagesScheme\" />\n\t\t<u-gap height=\"30\" bg-color=\"#F4F4F4\"></u-gap> -->\n\t\t<view class=\"basic-block\">\n\t\t\t<view style=\"padding: 30rpx 45rpx 0;\">班级平均水平</view>\n\t\t\t<radar-chart :dataSource=\"dimensionNames\" />\n\t\t\t<view style=\"padding: 0 45rpx;\">\n\t\t\t\t<view class=\"u-margin-bottom-20\">重点提升维度</view>\n\t\t\t\t<view class=\"u-flex u-flex-wrap u-row-between\">\n\t\t\t\t\t<block v-for=\"item in dimensionNames\" :key=\"item.dimensionId\">\n\t\t\t\t\t\t<view class=\"dimensionNames-content\" @click=\"checkedDimension(item)\"\n\t\t\t\t\t\t\t:data-dimensionId=\"item.dimensionId\">\n\t\t\t\t\t\t\t<view class=\"dimensionNames-item\" :class=\"{isActive:item.checked}\">\n\t\t\t\t\t\t\t\t{{item.dimensionName}}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</block>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<u-gap height=\"30\" bg-color=\"#F4F4F4\"></u-gap>\n\t\t<trainStrength :dataSource=\"strengthData\" @change=\"bindStrengthChange\" />\n\t\t<u-gap height=\"30\" bg-color=\"#F4F4F4\"></u-gap>\n\t\t<sportDays :dataSouce=\"sportDayData\" :coursewareId=\"urlOption.coursewareId\" @handle-save=\"show = true\" />\n\t\t<u-gap height=\"30\" bg-color=\"#F4F4F4\"></u-gap>\n\t\t<view class=\"report-footer\">\n\t\t\t<u-button shape=\"circle\" :custom-style=\"customStyle\" @click=\"jumpPagesClass\">重新生成</u-button>\n\t\t\t<u-button shape=\"circle\" type=\"primary\" :custom-style=\"customStyle\" @click=\"jumpPageAssignment\"\n\t\t\t\tv-if=\"sportDayData && sportDayData.length\">布置作业\n\t\t\t</u-button>\n\t\t</view>\n\t\t<u-modal v-model=\"show\" :show-title=\"false\" @confirm=\"confirm\" @cancel=\"show = false\" ref=\"uModal\"\n\t\t\t:async-close=\"true\" :show-cancel-button=\"true\" confirm-text=\"确定\" cancel-text=\"取消\" cancel-color=\"#000000\"\n\t\t\tconfirm-color=\"#6EA6E5\" border-radius=\"28\">\n\t\t\t<view class=\"u-padding-40\">\n\t\t\t\t<u-input v-model=\"templateName\" placeholder=\"请输入方案名称\" maxlength=\"20\" />\n\t\t\t</view>\n\t\t</u-modal>\n\t</view>\n</template>\n\n<script>\n\timport classInfo from '../components/class-info/index.vue'\n\timport schemeItem from './components/schemeItem/index.vue'\n\timport trainStrength from './components/trainStrength/index.vue'\n\timport radarChart from '../components/radarChart/index.vue'\n\timport sportDays from './components/sportDays/index.vue'\n\timport {\n\t\tURL\n\t} from \"@/common/url.js\";\n\timport {\n\t\tgetReq,\n\t\tpostReq\n\t} from \"@/common/request.js\";\n\timport {\n\t\tmapState,\n\t\tmapMutations\n\t} from 'vuex';\n\timport {\n\t\tshowToast,\n\t\tcomputeNumber\n\t} from \"@/common/util.js\";\n\texport default {\n\t\tcomponents: {\n\t\t\tclassInfo,\n\t\t\tschemeItem,\n\t\t\ttrainStrength,\n\t\t\tradarChart,\n\t\t\tsportDays\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcustomStyle: {\n\t\t\t\t\tfontSize: \"34rpx\",\n\t\t\t\t\tpadding: '18rpx 84rpx'\n\t\t\t\t},\n\t\t\t\tid: null,\n\t\t\t\turlOption: {},\n\t\t\t\tclassInfo: {},\n\t\t\t\tcourseData: [],\n\t\t\t\tstrengthData: 1,\n\t\t\t\tdimensionNames: [],\n\t\t\t\tsportDayData: [],\n\t\t\t\tisReset: false,\n\t\t\t\tshow: false,\n\t\t\t\ttemplateName: \"\",\n\t\t\t\tsportDifficulty: {\n\t\t\t\t\tallow: 0, // (0.允许；1.不允许)\n\t\t\t\t\tdifficulty: 2 // （1.初级；2.中级）\n\t\t\t\t},\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapState(['schemeId', 'xiaotiyunUser']),\n\t\t\tcourseInfo() {\n\t\t\t\tif (this.courseData && this.courseData.length) {\n\t\t\t\t\treturn this.courseData.find(item => {\n\t\t\t\t\t\treturn item.id === this.schemeId\n\t\t\t\t\t}) || this.courseData[0]\n\t\t\t\t}\n\t\t\t\treturn {}\n\t\t\t},\n\t\t\tlistenReplacement() {\n\t\t\t\treturn this.$store.state.replacement;\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t\"classInfo.grades\": {\n\t\t\t\thandler(value) {\n\t\t\t\t\tif (value) {\n\t\t\t\t\t\tthis.getCoursewareCourseInfo(value)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdeep: true // 可以深度检测到 obj 对象的属性值的变化\n\t\t\t},\n\t\t\tlistenReplacement: {\n\t\t\t\thandler(value) {\n\t\t\t\t\tif (value && JSON.stringify(value) !== '{}') {\n\t\t\t\t\t\tconsole.log(value, '////listenReplacement///');\n\t\t\t\t\t\tlet $index = -1\n\t\t\t\t\t\tthis.sportDayData.forEach((item, index) => {\n\t\t\t\t\t\t\tif (item.id === value.id) {\n\t\t\t\t\t\t\t\t$index = index\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\tif ($index > -1) {\n\t\t\t\t\t\t\tthis.sportDayData.splice($index, 1, {\n\t\t\t\t\t\t\t\t...value,\n\t\t\t\t\t\t\t\tsportDifficulty: this.sportDifficulty.difficulty\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.setReplacement(null)\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdeep: true\n\t\t\t}\n\t\t},\n\t\tonLoad(e) {\n\t\t\tconst option = JSON.parse(decodeURIComponent(e.option))\n\t\t\tthis.urlOption = {\n\t\t\t\tclassId: option.classId,\n\t\t\t\tclassSerialNumber: option.classSerialNumber,\n\t\t\t\tphysicalId: option.physicalId,\n\t\t\t\tcoursewareId: option.coursewareId\n\t\t\t}\n\t\t\tif (!this.urlOption.physicalId) {\n\t\t\t\tthis.classInfo = option\n\t\t\t} else {\n\t\t\t\tthis.getPhysicalgClassReportTop()\n\t\t\t}\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getCoursewareInfo()\n\t\t\tthis.getCoursewareSportDays()\n\t\t\tthis.apiGetDifficulty()\n\t\t},\n\t\tbeforeDestroy() {\n\t\t\tif (!this.isReset) {\n\t\t\t\tthis.apiPostCoursewareOperation()\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\t...mapMutations(['setSchemeId', 'setReplacement']),\n\t\t\t// 获取作业默认难度\n\t\t\tapiGetDifficulty() {\n\t\t\t\tgetReq(URL.apiGetDifficulty, {\n\t\t\t\t\t\tschoolId: this.xiaotiyunUser.teacher.schoolId\n\t\t\t\t\t})\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tif (res.data && JSON.stringify(res.data) !== '{}') {\n\t\t\t\t\t\t\tthis.sportDifficulty = res.data\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.sportDifficulty = {\n\t\t\t\t\t\t\t\tallow: 0,\n\t\t\t\t\t\t\t\tdifficulty: 2\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tthis.sportDifficulty = {\n\t\t\t\t\t\t\tallow: 0,\n\t\t\t\t\t\t\tdifficulty: 2\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t},\n\t\t\tgetPhysicalgClassReportTop() {\n\t\t\t\tgetReq(URL.apiGetPhysicalClassReportTop, {\n\t\t\t\t\t...this.urlOption\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.data && JSON.stringify(res.data)) {\n\t\t\t\t\t\tthis.classInfo = res.data\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.classInfo = {}\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthis.classInfo = {}\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync getCoursewareCourseInfo(grades) {\n\t\t\t\ttry {\n\t\t\t\t\tconst courseInfo = await getReq(URL.apiGetCoursewareCourseInfo, {\n\t\t\t\t\t\tgrades\n\t\t\t\t\t})\n\t\t\t\t\tif (courseInfo.data && courseInfo.data.length) {\n\t\t\t\t\t\tthis.courseData = courseInfo.data\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.courseData = []\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tthis.courseData = []\n\t\t\t\t}\n\t\t\t},\n\t\t\t// 查看班级的课件信息\n\t\t\tgetCoursewareInfo() {\n\t\t\t\tgetReq(URL.apiGetCoursewareInfo, {\n\t\t\t\t\tcoursewareId: this.urlOption.coursewareId\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.data && JSON.stringify(res.data) !== '{}') {\n\t\t\t\t\t\tthis.strengthData = res.data.trainStrength\n\t\t\t\t\t\tthis.setSchemeId(res.data.schemeId)\n\t\t\t\t\t\tthis.dimensionNames = res.data.dimensionNames.map(item => ({\n\t\t\t\t\t\t\t...item,\n\t\t\t\t\t\t\tscore: computeNumber(item.score, '/', 100).result\n\t\t\t\t\t\t}))\n\t\t\t\t\t\tthis.id = res.data.id\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthis.id = \"\"\n\t\t\t\t})\n\t\t\t},\n\t\t\tjumpPagesScheme() {\n\t\t\t\tthis.$u.route({\n\t\t\t\t\turl: 'pagesPlan/classPlan/selectScheme/index',\n\t\t\t\t\tparams: {\n\t\t\t\t\t\toption: encodeURIComponent(JSON.stringify({\n\t\t\t\t\t\t\tgrades: this.classInfo.grades,\n\t\t\t\t\t\t}))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tcheckedDimension(data) {\n\t\t\t\tthis.dimensionNames.forEach(item => {\n\t\t\t\t\tif (item.dimensionId === data.dimensionId) {\n\t\t\t\t\t\titem.checked = item.checked === 1 ? 0 : 1\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tconst params = {\n\t\t\t\t\tdimensionNames: this.dimensionNames.map(item => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tscore: computeNumber(item.score, '*', 100).result\n\t\t\t\t\t})),\n\t\t\t\t\tid: this.id,\n\t\t\t\t\tschemeId: this.schemeId,\n\t\t\t\t\ttrainStrength: this.strengthData\n\t\t\t\t}\n\t\t\t\tthis.apiPostCoursewareInfo(params)\n\t\t\t},\n\t\t\tbindStrengthChange(value) {\n\t\t\t\tthis.strengthData = value\n\t\t\t\tconst params = {\n\t\t\t\t\tdimensionNames: this.dimensionNames.map(item => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tscore: computeNumber(item.score, '*', 100).result\n\t\t\t\t\t})),\n\t\t\t\t\tid: this.id,\n\t\t\t\t\tschemeId: this.schemeId,\n\t\t\t\t\ttrainStrength: this.strengthData\n\t\t\t\t}\n\t\t\t\tthis.apiPostCoursewareInfo(params)\n\t\t\t},\n\t\t\tapiPostCoursewareInfo(params) {\n\t\t\t\tpostReq(URL.apiPostCoursewareInfo, {\n\t\t\t\t\t...params\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.data && res.data.length) {\n\t\t\t\t\t\tthis.sportDayData = res.data\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sportDayData = []\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthis.sportDayData = []\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetCoursewareSportDays() {\n\t\t\t\tgetReq(URL.apiGetCoursewareSportDays, {\n\t\t\t\t\tcoursewareId: this.urlOption.coursewareId\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.data && res.data.length) {\n\t\t\t\t\t\tthis.sportDayData = res.data\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sportDayData = []\n\t\t\t\t\t}\n\t\t\t\t}).catch(error => {\n\t\t\t\t\tthis.sportDayData = []\n\t\t\t\t})\n\t\t\t},\n\t\t\tjumpPagesClass() {\n\t\t\t\tgetReq(URL.apiGetCoursewareDelete, {\n\t\t\t\t\tcoursewareId: this.urlOption.coursewareId\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.data) {\n\t\t\t\t\t\tthis.isReset = true\n\t\t\t\t\t\tlet option = {\n\t\t\t\t\t\t\tclassId: this.urlOption.classId,\n\t\t\t\t\t\t\tclassSerialNumber: this.urlOption.classSerialNumber,\n\t\t\t\t\t\t\tphysicalId: this.urlOption.physicalId\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!this.urlOption.physicalId) {\n\t\t\t\t\t\t\toption = Object.assign({}, option, {\n\t\t\t\t\t\t\t\t...this.classInfo\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$u.route({\n\t\t\t\t\t\t\turl: 'pagesPlan/classPlan/physicalTestClass/index',\n\t\t\t\t\t\t\ttype: \"redirectTo\",\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\toption: encodeURIComponent(JSON.stringify({\n\t\t\t\t\t\t\t\t\t...option\n\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowToast(\"重新生成失败，请稍后再试。\")\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tapiPostCoursewareOperation() {\n\t\t\t\tconst params = {\n\t\t\t\t\tclassAiSportSchemeQueries: this.sportDayData,\n\t\t\t\t\tclassId: this.urlOption.classId,\n\t\t\t\t\tdimensionNames: this.dimensionNames.map(item => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tscore: computeNumber(item.score, '*', 100).result\n\t\t\t\t\t})),\n\t\t\t\t\tgrades: this.classInfo.grades,\n\t\t\t\t\tid: this.id,\n\t\t\t\t\tschemeId: this.schemeId,\n\t\t\t\t\ttrainStrength: this.strengthData\n\t\t\t\t}\n\t\t\t\tpostReq(URL.apiPostCoursewareOperation, {\n\t\t\t\t\t...params\n\t\t\t\t})\n\t\t\t},\n\t\t\tjumpPageAssignment() {\n\t\t\t\tconst params = {\n\t\t\t\t\tclassAiSportSchemeQueries: this.sportDayData.map(item => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tstandardModel: item.sportModel ? 0 : 1\n\t\t\t\t\t})),\n\t\t\t\t\tclassId: this.urlOption.classId,\n\t\t\t\t\tdimensionNames: this.dimensionNames.map(item => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tscore: computeNumber(item.score, '*', 100).result\n\t\t\t\t\t})),\n\t\t\t\t\tgrades: this.classInfo.grades,\n\t\t\t\t\tid: this.id,\n\t\t\t\t\tschemeId: this.schemeId,\n\t\t\t\t\ttrainStrength: this.strengthData\n\t\t\t\t}\n\t\t\t\tpostReq(URL.apiPostCoursewareOperation, {\n\t\t\t\t\t...params\n\t\t\t\t}).then(res => {\n\t\t\t\t\tif (res.data) {\n\t\t\t\t\t\tthis.isReset = true\n\t\t\t\t\t\tlet option = {\n\t\t\t\t\t\t\tid: res.data,\n\t\t\t\t\t\t\t...this.urlOption\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!this.urlOption.physicalId) {\n\t\t\t\t\t\t\toption = {\n\t\t\t\t\t\t\t\t...option,\n\t\t\t\t\t\t\t\t...this.classInfo\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.$u.route({\n\t\t\t\t\t\t\turl: 'pagesPlan/classPlan/assignment/index',\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\toption: encodeURIComponent(JSON.stringify({\n\t\t\t\t\t\t\t\t\t...option\n\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowToast(res.message)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync confirm() {\n\t\t\t\ttry {\n\t\t\t\t\tlet templateDetails = []\n\t\t\t\t\tlet sportInfos = [];\n\t\t\t\t\tthis.sportDayData.forEach((item, index) => {\n\t\t\t\t\t\tif (sportInfos.indexOf(item.days) === -1 && item.show === 0) {\n\t\t\t\t\t\t\ttemplateDetails.push({\n\t\t\t\t\t\t\t\tdays: item.days,\n\t\t\t\t\t\t\t\tsportInfos: []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsportInfos.push(item.days)\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\ttemplateDetails.forEach(item => {\n\t\t\t\t\t\tthis.sportDayData.forEach(block => {\n\t\t\t\t\t\t\tif (item.days == block.days) {\n\t\t\t\t\t\t\t\titem.sportInfos.push({\n\t\t\t\t\t\t\t\t\tshow: block.show,\n\t\t\t\t\t\t\t\t\tactionGroup: block.sportGroups,\n\t\t\t\t\t\t\t\t\tactionNum: block.sportModel ? block.sportTarget * 60 *\n\t\t\t\t\t\t\t\t\t\t1000 : block.sportTarget,\n\t\t\t\t\t\t\t\t\tcalculateType: block.sportModel ? 1 : 2,\n\t\t\t\t\t\t\t\t\tdifficulty: block.sportDifficulty,\n\t\t\t\t\t\t\t\t\tpartStatus: [2, 1, 0][block\n\t\t\t\t\t\t\t\t\t\t.gender\n\t\t\t\t\t\t\t\t\t], // 0是女，1是男，2是全部 | 保存 0：全部，1：仅男生，2：仅女生\n\t\t\t\t\t\t\t\t\tsportId: block.sportId,\n\t\t\t\t\t\t\t\t\tstandardNum: (block.sportModel ? block.standard * 60 *\n\t\t\t\t\t\t\t\t\t\t\t1000 :\n\t\t\t\t\t\t\t\t\t\t\tblock.standard) ||\n\t\t\t\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\tconst params = {\n\t\t\t\t\t\tgrades: this.classInfo.grades,\n\t\t\t\t\t\tname: this.templateName,\n\t\t\t\t\t\ttemplateDetails\n\t\t\t\t\t}\n\t\t\t\t\tconst result = await postReq(URL.apiPostTemplateSave, {\n\t\t\t\t\t\t...params\n\t\t\t\t\t})\n\t\t\t\t\tif (result.error === 10000) {\n\t\t\t\t\t\tuni.hideToast();\n\t\t\t\t\t\tshowToast('保存成功')\n\t\t\t\t\t\tthis.templateName = \"\"\n\t\t\t\t\t} else {\n\t\t\t\t\t\tshowToast(result.message)\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tshowToast('请稍后再试')\n\t\t\t\t} finally {\n\t\t\t\t\tthis.show = false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t.basic-block {\n\t\tbackground-color: #fff;\n\t\tfont-size: 28rpx;\n\t\tfont-family: PingFangSC-Medium, PingFang SC;\n\t\tfont-weight: 500;\n\t\tcolor: #202020;\n\t\tline-height: 40rpx;\n\t}\n\n\n\t.dimensionNames-content {\n\t\tbox-sizing: border-box;\n\t\twidth: 33.3%;\n\t\tmargin-bottom: 30rpx;\n\t\tpadding-right: 30rpx;\n\t}\n\n\t.dimensionNames-content:nth-child(3n) {\n\t\tpadding-right: 0;\n\t}\n\n\t.dimensionNames-item {\n\t\tbox-sizing: border-box;\n\t\tpadding: 14rpx 8rpx;\n\t\tfont-size: 24rpx;\n\t\tfont-family: PingFangSC-Regular, PingFang SC;\n\t\tfont-weight: 400;\n\t\tcolor: #9C9C9C;\n\t\tline-height: 37rpx;\n\t\tborder-radius: 8rpx;\n\t\tborder: 1rpx solid #979797;\n\t\ttext-align: center;\n\t}\n\n\t.isActive {\n\t\tbackground: #5C8FF7;\n\t\tcolor: #fff;\n\t\tborder: 1rpx solid #5C8FF7;\n\t}\n\n\t.report-footer {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-around;\n\t\twidth: 100%;\n\t\theight: 180rpx;\n\t\tbackground: #FFFFFF;\n\t\tbox-shadow: 0px -3rpx 54rpx 0px rgba(208, 208, 208, 0.5000);\n\n\t\t&-btn {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\twidth: 308rpx;\n\t\t\theight: 84rpx;\n\t\t\tborder-radius: 48rpx;\n\t\t\tfont-size: 34rpx;\n\t\t\tfont-family: PingFangSC-Semibold, PingFang SC;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #000000;\n\t\t}\n\t}\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=77b3913f&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=77b3913f&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77b3913f\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesPlan/classPlan/coursewareSet/index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=77b3913f&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&id=77b3913f&scoped=true&lang=scss&\""],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","render","_vm","this","_h","$createElement","g0","_self","_c","sportDayData","length","_isMounted","e0","$event","show","e1","$mp","data","Object","assign","$root","staticRenderFns","_withStripped","recyclableRender","components","undefined","classInfo","schemeItem","trainStrength","radarChart","sportDays","customStyle","fontSize","padding","id","urlOption","courseData","strengthData","dimensionNames","isReset","templateName","sportDifficulty","allow","difficulty","computed","mapState","courseInfo","find","item","schemeId","listenReplacement","$store","state","replacement","watch","handler","value","getCoursewareCourseInfo","deep","JSON","stringify","console","log","$index","forEach","index","splice","setReplacement","onLoad","e","option","parse","decodeURIComponent","classId","classSerialNumber","physicalId","coursewareId","getPhysicalgClassReportTop","mounted","getCoursewareInfo","getCoursewareSportDays","apiGetDifficulty","beforeDestroy","apiPostCoursewareOperation","methods","mapMutations","getReq","URL","schoolId","xiaotiyunUser","teacher","then","res","catch","error","apiGetPhysicalClassReportTop","grades","apiGetCoursewareCourseInfo","apiGetCoursewareInfo","setSchemeId","map","score","computeNumber","result","jumpPagesScheme","$u","route","url","params","encodeURIComponent","checkedDimension","dimensionId","checked","apiPostCoursewareInfo","bindStrengthChange","postReq","apiGetCoursewareSportDays","jumpPagesClass","apiGetCoursewareDelete","type","showToast","classAiSportSchemeQueries","jumpPageAssignment","standardModel","sportModel","message","confirm","templateDetails","sportInfos","indexOf","days","push","block","actionGroup","sportGroups","actionNum","sportTarget","calculateType","partStatus","gender","sportId","standardNum","standard","name","apiPostTemplateSave","uni","hideToast","renderjs","component","options","__file"],"sourceRoot":""}