(global["webpackChunkjlp_microprogram_teacher"]=global["webpackChunkjlp_microprogram_teacher"]||[]).push([["pages/login/login/login"],{'./main.js?{"page":"pages%2Flogin%2Flogin%2Flogin"}':
/*!**********************************************************!*\
  !*** ./main.js?{"page":"pages%2Flogin%2Flogin%2Flogin"} ***!
  \**********************************************************/(e,o,s)=>{"use strict";s.r(o);s(/*! uni-pages */"./pages.json"),s(/*! vue */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mp-vue/dist/mp.runtime.esm.js");var i=s(/*! ./pages/login/login/login.vue */"./pages/login/login/login.vue"),l=s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js")["default"],n=s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/index.js")["createPage"];l.__webpack_require_UNI_MP_PLUGIN__=s,n(i["default"])},"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=template&id=1389b5f4&scoped=true&":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=template&id=1389b5f4&scoped=true& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/(e,o,s)=>{"use strict";s.r(o),s.d(o,{components:()=>d,recyclableRender:()=>n,render:()=>i,staticRenderFns:()=>l});var i=function(){var e=this,o=e.$createElement;e._self._c},l=[];i._withStripped=!0;var n="undefined"!==typeof n&&n,d="undefined"===typeof d?void 0:d},"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=script&lang=js&":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=script&lang=js& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>a});var i=s(/*! vuex */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vuex3/dist/vuex.common.js"),l=s(/*! ../../../common/request.js */"./common/request.js"),n=s(/*! ../../../common/url.js */"./common/url.js"),d=s(/*! @/common/util.js */"./common/util.js"),t=s(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/index.js")["default"];const a={data(){return{currentRole:"student",loginDisabled:!0,studentForm:{studentId:"",password:""},teacherForm:{phone:"",password:""},parentId:"",items:[{}],titList:[],pleaseCheckLocation:this.$t("main.login.login.pleaseCheckLocation"),popupTitle:this.$t("main.login.login.popupTitle")}},onLoad(){t.setNavigationBarTitle({title:this.$t("main.login.login.title")}),this.getUserCenterGetAreaList()},computed:{...(0,i.mapState)(["openid","userid","xiaotiyunUser"])},methods:{...(0,i.mapMutations)(["setXiaotiyunUser","setTeacherTabBar"]),switchRole(e){this.currentRole=e,this.loginDisabled=!0,this.studentForm={studentId:"",password:""},this.teacherForm={phone:"",password:""}},watchForm(){let e="student"===this.currentRole?this.studentForm:this.teacherForm,o=!1;Object.keys(e).forEach(s=>{e[s]&&""!==e[s].trim()||(o=!0)}),this.loginDisabled=o},handleLogin(){this.loginDisabled||("student"===this.currentRole?this.studentLogin():this.teacherLogin())},studentLogin(){const e=this.studentForm.studentId.trim(),o=this.studentForm.password.trim();(0,l.postReq)(n.URL.apiPostStudentPasswordLogin,{account:e,password:o}).then(o=>{if(1e4==o.error){let s=o.data||{},i={student:{...this.xiaotiyunUser.student,...s,account:e,isOnePass:!0}};this.setXiaotiyunUser(i),t.reLaunch({url:"/pagesStudent/home/index"})}else(0,d.showToast)(o.message||"登录失败")}).catch(e=>{(0,d.showToast)(e.message||"网络错误，请重试")})},teacherLogin(){(0,l.postReq)(n.URL.apiPostTeachersCheckAccount,{account:this.teacherForm.phone,password:this.teacherForm.password,wechatOpenid:this.openid}).then(e=>{if(1e4==e.error){let o=e.data;o.teacherAccount=this.teacherForm.phone,o.password=this.teacherForm.password;let s={teacher:{...o,...this.xiaotiyunUser.teacher,isOnePass:!0}};this.setXiaotiyunUser(s),o.phone?t.switchTab({url:"/pagesStudent/home/index"}):t.reLaunch({url:"/pages/login/bindPhone/bindPhone"})}else if(10317==e.error){const o=(0,d.dateFormat)(new Date(e.data),"yyyy年MM月dd日"),s=`您的账号已于 ${o} 到期如需继续使用，请联系平台商务`;t.showModal({title:"",content:s,showCancel:!1,confirmText:"知道了",success:e=>{}})}else(0,d.showToast)(e.message)}).catch(e=>{(0,d.showToast)(e.message)})},goToRegister(){t.navigateTo({url:"/pages/login/auth/step1?type=register"})},goToForgotPassword(){t.navigateTo({url:"/pages/login/auth/step1"})},getUserCenterGetAreaList(){(0,l.getReq)(n.URL.userCenterGetAreaList).then(e=>{1e4==e.error?e.data&&(this.items=e.data.map(function(e){return{...e,text:e.areaName,value:e.areaId,children:(e.children||[]).map(function(e){return{...e,text:e.areaName,value:e.areaId,children:(e.children||[]).map(function(e){return{...e,text:e.areaName,value:e.areaId}})}})}})):(0,d.showToast)(e.message)})},onnodeclick(e){(0,l.getReq)(n.URL.userCenterGetDomain,{areaId:e.areaId}).then(e=>{if(1e4==e.error){let o={teacher:{...this.xiaotiyunUser.teacher,domain:e.data}};this.setXiaotiyunUser(o),this.setTeacherTabBar()}else(0,d.showToast)(e.message)})},login(){(0,l.postReq)(n.URL.apiPostTeachersCheckAccount,{account:this.form.account,password:this.form.password,wechatOpenid:this.openid}).then(e=>{if(1e4==e.error){let o=e.data;o.teacherAccount=this.form.account,o.password=this.form.password;let s={teacher:{...o,...this.xiaotiyunUser.teacher,isOnePass:!0}};this.setXiaotiyunUser(s),o.phone?t.switchTab({url:"/pages/home/index/index"}):t.reLaunch({url:"/pages/login/bindPhone/bindPhone"})}else if(10317==e.error){const o=(0,d.dateFormat)(new Date(e.data),"yyyy年MM月dd日"),s=`您的账号已于 ${o} 到期如需继续使用，请联系平台商务`;t.showModal({title:"",content:s,showCancel:!1,confirmText:"知道了",success:e=>{}})}else(0,d.showToast)(e.message)}).catch(e=>{(0,d.showToast)(e.message)})}}}},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true&":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/()=>{},"./pages/login/login/login.vue":
/*!*************************************!*\
  !*** ./pages/login/login/login.vue ***!
  \*************************************/(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>a});var i,l=s(/*! ./login.vue?vue&type=template&id=1389b5f4&scoped=true& */"./pages/login/login/login.vue?vue&type=template&id=1389b5f4&scoped=true&"),n=s(/*! ./login.vue?vue&type=script&lang=js& */"./pages/login/login/login.vue?vue&type=script&lang=js&"),d=(s(/*! ./login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true& */"./pages/login/login/login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true&"),s(/*! !../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js")),t=(0,d["default"])(n["default"],l.render,l.staticRenderFns,!1,null,"1389b5f4",null,!1,l.components,i);t.options.__file="pages/login/login/login.vue";const a=t.exports},"./pages/login/login/login.vue?vue&type=script&lang=js&":
/*!**************************************************************!*\
  !*** ./pages/login/login/login.vue?vue&type=script&lang=js& ***!
  \**************************************************************/(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>l});var i=s(/*! -!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js& */"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=script&lang=js&");const l=i["default"]},"./pages/login/login/login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true&":
/*!***********************************************************************************************!*\
  !*** ./pages/login/login/login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true& ***!
  \***********************************************************************************************/(e,o,s)=>{"use strict";s.r(o),s.d(o,{default:()=>d});var i=s(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true& */"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=style&index=0&id=1389b5f4&lang=scss&scoped=true&"),l=s.n(i),n={};for(const t in i)"default"!==t&&(n[t]=()=>i[t]);s.d(o,n);const d=l()},"./pages/login/login/login.vue?vue&type=template&id=1389b5f4&scoped=true&":
/*!********************************************************************************!*\
  !*** ./pages/login/login/login.vue?vue&type=template&id=1389b5f4&scoped=true& ***!
  \********************************************************************************/(e,o,s)=>{"use strict";s.r(o),s.d(o,{components:()=>i.components,recyclableRender:()=>i.recyclableRender,render:()=>i.render,staticRenderFns:()=>i.staticRenderFns});var i=s(/*! -!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=1389b5f4&scoped=true& */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pages/login/login/login.vue?vue&type=template&id=1389b5f4&scoped=true&")}},e=>{var o=o=>e(e.s=o);e.O(0,["common/vendor"],()=>o('./main.js?{"page":"pages%2Flogin%2Flogin%2Flogin"}'));e.O()}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/login/login/login.js.map