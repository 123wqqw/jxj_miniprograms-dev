require("../../common/vendor.js"),(global["webpackChunkjlp_microprogram_teacher"]=global["webpackChunkjlp_microprogram_teacher"]||[]).push([["pagesTask/assign/assignTask/taskDetails"],{'./main.js?{"page":"pagesTask%2Fassign%2FassignTask%2FtaskDetails"}':
/*!**************************************************************************!*\
  !*** ./main.js?{"page":"pagesTask%2Fassign%2FassignTask%2FtaskDetails"} ***!
  \**************************************************************************/(e,s,a)=>{"use strict";a.r(s);a(/*! uni-pages */"./pages.json"),a(/*! vue */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mp-vue/dist/mp.runtime.esm.js");var i=a(/*! ./pagesTask/assign/assignTask/taskDetails.vue */"./pagesTask/assign/assignTask/taskDetails.vue"),l=a(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js")["default"],o=a(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/index.js")["createPage"];l.__webpack_require_UNI_MP_PLUGIN__=a,o(i["default"])},"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=template&id=359f2b44&scoped=true&":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=template&id=359f2b44&scoped=true& ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/(e,s,a)=>{"use strict";a.r(s),a.d(s,{components:()=>t,recyclableRender:()=>o,render:()=>i,staticRenderFns:()=>l});var i=function(){var e=this,s=e.$createElement,a=(e._self._c,e.$t("task.assign.assignTask.arrangeClasses")),i=e.$t("task.assign.assignTask.setReleaseDate"),l=e.assignTaskParams.assignDates.length,o=e.maleActions&&e.maleActions.length||e.femaleActions&&e.femaleActions.length,t=o?e.maleActions&&e.maleActions.length:null,n=o?e.maleActions&&e.maleActions.length:null,d=o?e.maleActions&&e.maleActions.length||e.femaleActions&&e.femaleActions.length:null,u=o?e.femaleActions&&e.femaleActions.length:null,c=o?e.femaleActions&&e.femaleActions.length:null,r=e.customActions&&e.customActions.length;e._isMounted||(e.e0=function(s){e.modalShow=!1}),e.$mp.data=Object.assign({},{$root:{m0:a,m1:i,g0:l,g1:o,g2:t,g3:n,g4:d,g5:u,g6:c,g7:r}})},l=[];i._withStripped=!0;var o="undefined"!==typeof o&&o,t="undefined"===typeof t?void 0:t},"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=script&lang=js&":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var i=a(/*! @/common/huaweicloud/index.js */"./common/huaweicloud/index.js"),l=a(/*! @/common/util.js */"./common/util.js"),o=a(/*! vuex */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vuex3/dist/vuex.common.js"),t=a(/*! ../../../common/request.js */"./common/request.js"),n=a(/*! ../../../common/url.js */"./common/url.js"),d=a(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/index.js")["default"];let u=null;const c={data(){return{customStyle:{height:"84rpx",padding:"18rpx 0",fontSize:"34rpx",fontWeight:600},assignTaskParams:{},modalShow:!1,value:0,loading:!1}},onLoad(e){u=this,d.setNavigationBarTitle({title:this.$t("task.assign.assignTask.title")});const s=this.getOpenerEventChannel();s.on("assignTaskParams",function(e){u.assignTaskParams=e})},computed:{...(0,o.mapState)(["xiaotiyunUser"]),maleActions(){return this.assignTaskParams.taskDetails&&this.assignTaskParams.taskDetails.length?this.assignTaskParams.taskDetails.filter(e=>2===e.taskType&&[0,1].includes(e.partStatus)):[]},femaleActions(){return this.assignTaskParams.taskDetails&&this.assignTaskParams.taskDetails.length?this.assignTaskParams.taskDetails.filter(e=>2===e.taskType&&[0,2].includes(e.partStatus)):[]},customActions(){return this.assignTaskParams.taskDetails&&this.assignTaskParams.taskDetails.length?this.assignTaskParams.taskDetails.filter((e,s)=>(e.$index=s,1===e.taskType)):[]}},methods:{handleReset(){this.$u.route({type:"navigateBack"})},submit(){if(this.assignTaskParams.replace)return this.modalShow=!0;this.confirm(!1)},confirm(e){this.loading=!0;const s=this.customActions.filter(e=>e.taskVideoUrl).map(e=>this.testHttp(e.taskVideoUrl,e.$index));s&&s.length?Promise.all([...s]).then(s=>{s.some(e=>!0===e)?this.apiPostTaskAssign(e):this.loading=!1}).catch(e=>{this.loading=!1}):this.apiPostTaskAssign(e)},testHttp(e,s){return new Promise((a,l)=>{(0,i["default"])(e,"video").then(e=>{e?(this.assignTaskParams.taskDetails[s].taskVideoUrl=e,a(!0)):a(!1)}).catch(e=>{a(!1)})})},apiPostTaskAssign(e){let s=[];this.assignTaskParams.taskDetails.forEach(e=>{const a=JSON.parse(JSON.stringify(e));let i="";if(i=1===a.taskType?"":1===a.calculateType?a.num/1e3/60<1?a.num/1e3+"秒":a.num/1e3/60+"分钟":`${a.num}个`,a.name=`${a.name}${i}`,3===a.categoryId){const{$index:e,actionGroup:i,categoryId:l,difficulty:o,standardNum:t,...n}=a;s.push(n)}else{const{$index:e,actionGroup:i,categoryId:l,...o}=a;s.push(o)}}),(0,t.postReq)(n.URL.apiPostTaskAssign,{assignDates:this.assignTaskParams.assignDates,classIds:this.assignTaskParams.classList.map(e=>e.classId),replace:e,taskDetails:s}).then(e=>{this.modalShow=!1,1e4===e.error?this.$u.route({type:"navigateBack",delta:3}):(0,l.showToast)("请稍后再试"),this.loading=!1}).catch(()=>{(0,l.showToast)("请稍后再试"),this.modalShow=!1,this.loading=!1})}}}},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true&":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/()=>{},"./pagesTask/assign/assignTask/taskDetails.vue":
/*!*****************************************************!*\
  !*** ./pagesTask/assign/assignTask/taskDetails.vue ***!
  \*****************************************************/(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>d});var i,l=a(/*! ./taskDetails.vue?vue&type=template&id=359f2b44&scoped=true& */"./pagesTask/assign/assignTask/taskDetails.vue?vue&type=template&id=359f2b44&scoped=true&"),o=a(/*! ./taskDetails.vue?vue&type=script&lang=js& */"./pagesTask/assign/assignTask/taskDetails.vue?vue&type=script&lang=js&"),t=(a(/*! ./taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true& */"./pagesTask/assign/assignTask/taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true&"),a(/*! !../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js")),n=(0,t["default"])(o["default"],l.render,l.staticRenderFns,!1,null,"359f2b44",null,!1,l.components,i);n.options.__file="pagesTask/assign/assignTask/taskDetails.vue";const d=n.exports},"./pagesTask/assign/assignTask/taskDetails.vue?vue&type=script&lang=js&":
/*!******************************************************************************!*\
  !*** ./pagesTask/assign/assignTask/taskDetails.vue?vue&type=script&lang=js& ***!
  \******************************************************************************/(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>l});var i=a(/*! -!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./taskDetails.vue?vue&type=script&lang=js& */"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=script&lang=js&");const l=i["default"]},"./pagesTask/assign/assignTask/taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true&":
/*!***************************************************************************************************************!*\
  !*** ./pagesTask/assign/assignTask/taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true& ***!
  \***************************************************************************************************************/(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});var i=a(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true& */"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-22[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[3]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??clonedRuleSet-22[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-22[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=style&index=0&id=359f2b44&lang=scss&scoped=true&"),l=a.n(i),o={};for(const n in i)"default"!==n&&(o[n]=()=>i[n]);a.d(s,o);const t=l()},"./pagesTask/assign/assignTask/taskDetails.vue?vue&type=template&id=359f2b44&scoped=true&":
/*!************************************************************************************************!*\
  !*** ./pagesTask/assign/assignTask/taskDetails.vue?vue&type=template&id=359f2b44&scoped=true& ***!
  \************************************************************************************************/(e,s,a)=>{"use strict";a.r(s),a.d(s,{components:()=>i.components,recyclableRender:()=>i.recyclableRender,render:()=>i.render,staticRenderFns:()=>i.staticRenderFns});var i=a(/*! -!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./taskDetails.vue?vue&type=template&id=359f2b44&scoped=true& */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/assignTask/taskDetails.vue?vue&type=template&id=359f2b44&scoped=true&")}},e=>{var s=s=>e(e.s=s);e.O(0,["common/vendor","pagesTask/common/vendor"],()=>s('./main.js?{"page":"pagesTask%2Fassign%2FassignTask%2FtaskDetails"}'));e.O()}]);