require("../../common/vendor.js"),(global["webpackChunkjlp_microprogram_teacher"]=global["webpackChunkjlp_microprogram_teacher"]||[]).push([["pagesTask/assign/clockDetails/clockDetails"],{'./main.js?{"page":"pagesTask%2Fassign%2FclockDetails%2FclockDetails"}':
/*!*****************************************************************************!*\
  !*** ./main.js?{"page":"pagesTask%2Fassign%2FclockDetails%2FclockDetails"} ***!
  \*****************************************************************************/(e,s,o)=>{"use strict";o.r(s);o(/*! uni-pages */"./pages.json"),o(/*! vue */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/mp-vue/dist/mp.runtime.esm.js");var l=o(/*! ./pagesTask/assign/clockDetails/clockDetails.vue */"./pagesTask/assign/clockDetails/clockDetails.vue"),t=o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/wx.js")["default"],a=o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/index.js")["createPage"];t.__webpack_require_UNI_MP_PLUGIN__=o,a(l["default"])},"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=template&id=0908fc83&scoped=true&":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=template&id=0908fc83&scoped=true& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/(e,s,o)=>{"use strict";o.r(s),o.d(s,{components:()=>i,recyclableRender:()=>a,render:()=>l,staticRenderFns:()=>t});var l=function(){var e=this,s=e.$createElement,o=(e._self._c,e.__map(e.clockDetailsData.sportTaskInfos,function(s,o){var l=e.__get_orig(s),t=2==s.taskType&&1==s.calculateType?e.formatTimeNum(s.num):null,a=1==s.status&&s.clockTime?e.formatClockTime(s.clockTime):null,i=s.clockText&&2==s.taskType&&0==s.status?s.clockMediaUrls.length:null,d=2==s.taskType?e.__map(s.groupNum,function(o,l){var t=e.__get_orig(o),a=1==s.calculateType?e.formatTimeNum(s.aiCount):null,i=s.clockMediaUrls.length,d=i>0&&void 0!=s.clockMediaUrls[o]&&1!=s.calculateType?e.formatTimeNum(s.clockMediaUrls[o].timeConsume):null;return{$orig:t,m2:a,g1:i,m3:d}}):null;return{$orig:l,m0:t,m1:a,g0:i,l0:d}})),l=e.clockDetailsData.sportSchemeInfos.length,t=l>0?e.__map(e.clockDetailsData.sportSchemeInfos,function(s,o){var l=e.__get_orig(s),t=1==s.status?e.formatClockTime(s.clockTime):null;return{$orig:l,m4:t}}):null,a=e.comments.length;e.$mp.data=Object.assign({},{$root:{l1:o,g2:l,l2:t,g3:a}})},t=[];l._withStripped=!0;var a="undefined"!==typeof a&&a,i="undefined"===typeof i?void 0:i},"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=script&lang=js&":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>d});var l=o(/*! vuex */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vuex3/dist/vuex.common.js"),t=o(/*! ../../../common/request.js */"./common/request.js"),a=o(/*! ../../../common/url.js */"./common/url.js"),i=o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */"./node_modules/@dcloudio/uni-mp-weixin/dist/index.js")["default"];const d={data(){return{isToday:!0,dateTime:"",studentId:"",clockDetailsData:{sportSchemeInfos:[],sportTaskInfos:[]},comments:"",firstTimeShow:!0,showCommentPopup:!1,modalShow:!1,modalText:"",reviewStatus:0,type:0}},onLoad(e){let s=this;const o=s.getOpenerEventChannel();o.on("acceptDataFromOpenerPage",function(e){s.isToday=e.isToday,s.dateTime=e.dateTime,s.studentId=e.studentId,s.reviewStatus=e.reviewStatus,s.type=e.type,s.correctId=e.correctId,s.initPageFun()})},computed:{...(0,l.mapState)(["xiaotiyunUser"])},methods:{initPageFun(){let e=this;0!=e.reviewStatus||e.isToday||e.reviewTask();let s={studentId:e.studentId,dateTime:e.dateTime};(0,t.postReq)(a.URL.taskClockDetails,s).then(s=>{if(1e4==s.error){let o=s.data;null==o.sportTaskInfos&&(o.sportTaskInfos=[]),o.sportTaskInfos.length>0&&o.sportTaskInfos.forEach(function(e){null==e.clockMediaUrls&&(e.clockMediaUrls=[])}),e.clockDetailsData=o}else i.showToast({icon:"none",title:s.message,duration:1e3})})},previewImages(e,s){i.previewImage({current:s,urls:e.clockMediaUrls.images})},formatClockTime(e){let s=new Date;s.setTime(e);let o=s.getFullYear(),l=s.getMonth()+1,t=s.getDate(),a=s.getHours(),i=s.getMinutes();return`${o}.${l}.${t} `+[a,i].map(e=>this.formatNumber(e)).join(":")},formatNumber(e){return e=e.toString(),e[1]?e:"0"+e},formatTimeNum(e){if(e>=6e4){if(e%6e4==0)return(e/6e4).toFixed(0)+"分钟";let s=e%6e4;return(e/6e4).toFixed(0)+"分钟"+(s/1e3).toFixed(0)+"秒"}return(e/1e3).toFixed(0)+"秒"},showCommentInput(){let e=this;e.showCommentPopup=!0,e.firstTimeShow&&(e.comments="请输入对该学生的评语",setTimeout(()=>{e.comments=""},0),e.firstTimeShow=!1)},cancelCommentPopup(){let e=this;e.showCommentPopup=!1,e.comments=0},reviewTask(){let e=this,s={type:e.type,studentId:e.studentId,dateTime:e.dateTime};0==e.type?s.id=e.correctId:s.teacherId=e.xiaotiyunUser.teacher.teacherId,(0,t.postReq)(a.URL.reviewTask,s).then(e=>{1e4!=e.error&&i.showToast({icon:"none",title:e.message,duration:1e3})})},confirmCommentPopup(){let e=this;if(!e.comments)return i.showToast({icon:"none",title:"请输入评语",duration:1e3});let s={comments:e.comments,type:e.clockDetailsData.totalCount==e.clockDetailsData.completion?0:1,studentId:e.studentId,dateTime:e.dateTime};0==s.type?s.id=e.correctId:s.teacherId=e.xiaotiyunUser.teacher.teacherId,(0,t.postReq)(a.URL.reviewTask,s).then(s=>{1e4==s.error?(e.showCommentPopup=!1,e.comments="",i.showToast({icon:"none",title:"评语成功",duration:1e3}),e.initPageFun()):i.showToast({icon:"none",title:s.message,duration:1e3})})},playVedio(e){console.log(e),this.videoContext=i.createVideoContext(e.currentTarget.id),this.videoContext.requestFullScreen()},fullscreenchange(e){e.detail.fullScreen||this.videoContext.pause()},goShowModal(){let e=this;e.modalText=`是否提醒${e.clockDetailsData.name}去打卡？`,e.modalShow=!0},commitClockStudent(){let e=this;this.modalShow=!1;let s={studentId:e.studentId};(0,t.postReq)(a.URL.clockRemind,s).then(e=>{1e4==e.error?i.showToast({icon:"none",title:"提醒成功！",duration:1e3}):i.showToast({icon:"none",title:e.message,duration:1e3})})}}}},"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-32[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[3]!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true&":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-32[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[3]!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/()=>{},"./pagesTask/assign/clockDetails/clockDetails.vue":
/*!********************************************************!*\
  !*** ./pagesTask/assign/clockDetails/clockDetails.vue ***!
  \********************************************************/(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>u});var l,t=o(/*! ./clockDetails.vue?vue&type=template&id=0908fc83&scoped=true& */"./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=template&id=0908fc83&scoped=true&"),a=o(/*! ./clockDetails.vue?vue&type=script&lang=js& */"./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=script&lang=js&"),i=(o(/*! ./clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true& */"./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true&"),o(/*! !../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js")),d=(0,i["default"])(a["default"],t.render,t.staticRenderFns,!1,null,"0908fc83",null,!1,t.components,l);d.options.__file="pagesTask/assign/clockDetails/clockDetails.vue";const u=d.exports},"./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=script&lang=js&":
/*!*********************************************************************************!*\
  !*** ./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************/(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>t});var l=o(/*! -!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./clockDetails.vue?vue&type=script&lang=js& */"./node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[0]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-40[0].rules[0].use[1]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=script&lang=js&");const t=l["default"]},"./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true&":
/*!******************************************************************************************************************!*\
  !*** ./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true& ***!
  \******************************************************************************************************************/(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>i});var l=o(/*! -!../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-32[0].rules[0].use[0]!../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[1]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[2]!../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[3]!../../../node_modules/less-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[4]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[5]!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true& */"./node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-32[0].rules[0].use[0]!./node_modules/css-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[1]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[2]!./node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[3]!./node_modules/less-loader/dist/cjs.js??clonedRuleSet-32[0].rules[0].use[4]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-32[0].rules[0].use[5]!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=style&index=0&id=0908fc83&lang=less&scoped=true&"),t=o.n(l),a={};for(const d in l)"default"!==d&&(a[d]=()=>l[d]);o.d(s,a);const i=t()},"./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=template&id=0908fc83&scoped=true&":
/*!***************************************************************************************************!*\
  !*** ./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=template&id=0908fc83&scoped=true& ***!
  \***************************************************************************************************/(e,s,o)=>{"use strict";o.r(s),o.d(s,{components:()=>l.components,recyclableRender:()=>l.recyclableRender,render:()=>l.render,staticRenderFns:()=>l.staticRenderFns});var l=o(/*! -!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./clockDetails.vue?vue&type=template&id=0908fc83&scoped=true& */"./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??clonedRuleSet-42[0].rules[0].use[0]!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./pagesTask/assign/clockDetails/clockDetails.vue?vue&type=template&id=0908fc83&scoped=true&")}},e=>{var s=s=>e(e.s=s);e.O(0,["common/vendor"],()=>s('./main.js?{"page":"pagesTask%2Fassign%2FclockDetails%2FclockDetails"}'));e.O()}]);